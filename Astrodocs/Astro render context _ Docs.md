- Start
- Guides and recipes
- Reference
- Integrations
- Third-party services
- Getting started
- Welcome, world!
								
							
							
	



						
						
	
				
						Why Astro?
						
					
			
				
						Islands architecture
						
					
			
				
						Tutorial: Build a blog
						
					
			
				
						Courses
- Why Astro?
- Islands architecture
- Tutorial: Build a blog
- Courses
- Start a new project
								
							
							
	



						
						
	
				
						Installation
						
					
			
				
						Project structure
						
					
			
				
						Develop and build
- Installation
- Project structure
- Develop and build
- Configuration
								
							
							
	



						
						
	
				
						Configuration overview
						
					
			
				
						Editor setup
						
					
			
				
						TypeScript
						
					
			
				
						Environment variables
						
					
			
				
						Build with AI
						
					
			
				
						Dev toolbar
- Configuration overview
- Editor setup
- TypeScript
- Environment variables
- Build with AI
- Dev toolbar
- Migrate to Astro
								
							
							
	



						
						
	
				
						Site migration overview
						
					
			
				
						Create React App
						
					
			
				
						Docusaurus
						
					
			
				
						Eleventy
						
					
			
				
						Gatsby
						
					
			
				
						GitBook
						
					
			
				
						Gridsome
						
					
			
				
						Hugo
						
					
			
				
						Jekyll
						
					
			
				
						Next.js
						
					
			
				
						NuxtJS
						
					
			
				
						Pelican
						
					
			
				
						SvelteKit
						
					
			
				
						VuePress
						
					
			
				
						WordPress
- Site migration overview
- Create React App
- Docusaurus
- Eleventy
- Gatsby
- GitBook
- Gridsome
- Hugo
- Jekyll
- Next.js
- NuxtJS
- Pelican
- SvelteKit
- VuePress
- WordPress
- Routing and navigation
								
							
							
	



						
						
	
				
						Pages
						
					
			
				
						Routing
						
					
			
				
						Endpoints
						
					
			
				
						Middleware
						
					
			
				
						Internationalization (i18n)
						
					
			
				
						Prefetch
						
					
			
				
						View transitions
- Pages
- Routing
- Endpoints
- Middleware
- Internationalization (i18n)
- Prefetch
- View transitions
- Build your UI
								
							
							
	



						
						
	
				
						Components
						
					
			
				
						Layouts
						
					
			
				
						Styles and CSS
						
					
			
				
						Fonts
						
					
			
				
						Syntax Highlighting
						
					
			
				
						Scripts and event handling
						
					
			
				
						Front-end frameworks
- Components
- Layouts
- Styles and CSS
- Fonts
- Syntax Highlighting
- Scripts and event handling
- Front-end frameworks
- Add content to your site
								
							
							
	



						
						
	
				
						Markdown
						
					
			
				
						Content collections
						
					
			
				
						Images
						
					
			
				
						Data fetching
						
					
			
				
						Astro DB
- Markdown
- Content collections
- Images
- Data fetching
- Astro DB
- Server rendering
								
							
							
	



						
						
	
				
						On-demand rendering
						
					
			
				
						Server islands
						
					
			
				
						Actions
						
					
			
				
						Sessions
- On-demand rendering
- Server islands
- Actions
- Sessions
- Upgrade
								
							
							
	



						
						
	
				
						Upgrade Astro
						
					
			
				
						
						
							
								Major upgrade guides
								
							
							
	



						
						
	
				
						v5.0
						
					
			
				
						v4.0
						
					
			
				
						v3.0
						
					
			
				
						v2.0
						
					
			
				
						v1.0
- Upgrade Astro
- Major upgrade guides
								
							
							
	



						
						
	
				
						v5.0
						
					
			
				
						v4.0
						
					
			
				
						v3.0
						
					
			
				
						v2.0
						
					
			
				
						v1.0
- v5.0
- v4.0
- v3.0
- v2.0
- v1.0
- Troubleshooting
- How-to recipes
								
							
							
	



						
						
	
				
						Recipes overview
						
					
			
				
						Installing a Vite or Rollup plugin
						
					
			
				
						Analyze bundle size
						
					
			
				
						Build a custom image component
						
					
			
				
						Build HTML forms in Astro pages
						
					
			
				
						Build forms with API routes
						
					
			
				
						Use Bun with Astro
						
					
			
				
						Call endpoints from the server
						
					
			
				
						Verify a Captcha
						
					
			
				
						Customize file names in the build output
						
					
			
				
						Build your Astro site with Docker
						
					
			
				
						Dynamically import images
						
					
			
				
						Add icons to external links
						
					
			
				
						Add i18n features
						
					
			
				
						Create a dev toolbar app
						
					
			
				
						Add last modified time
						
					
			
				
						Add reading time
						
					
			
				
						Add an RSS feed
						
					
			
				
						Share state between Astro components
						
					
			
				
						Share state between islands
						
					
			
				
						Using streaming to improve page performance
						
					
			
				
						Style rendered Markdown with Tailwind Typography
- Recipes overview
- Installing a Vite or Rollup plugin
- Analyze bundle size
- Build a custom image component
- Build HTML forms in Astro pages
- Build forms with API routes
- Use Bun with Astro
- Call endpoints from the server
- Verify a Captcha
- Customize file names in the build output
- Build your Astro site with Docker
- Dynamically import images
- Add icons to external links
- Add i18n features
- Create a dev toolbar app
- Add last modified time
- Add reading time
- Add an RSS feed
- Share state between Astro components
- Share state between islands
- Using streaming to improve page performance
- Style rendered Markdown with Tailwind Typography
- Contribute to Astro
- Astro Template Syntax
- Configuration Reference
- CLI Commands
- Imports reference
- Routing Reference
- Runtime API
Render context
astro:actions
astro:assets
astro:config
astro:content
astro:env
astro:i18n
astro:middleware
astro:transitions
- Render context
- astro:actions
- astro:assets
- astro:config
- astro:content
- astro:env
- astro:i18n
- astro:middleware
- astro:transitions
- Other development APIs
Integration API
Adapter API
Content Loader API
Image Service API
Dev Toolbar App API
Container API (experimental)
Programmatic Astro API (experimental)
- Integration API
- Adapter API
- Content Loader API
- Image Service API
- Dev Toolbar App API
- Container API (experimental)
- Programmatic Astro API (experimental)
- Experimental features
Configuring experimental flags
Content Security Policy
Fonts
Live content collections
Client prerendering
Intellisense for collections
Preserve scripts order
Markdown heading ID compatibility
Private meta environment variables inlining
Chrome DevTools workspace
Prerender conflict error
SVG optimization
- Configuring experimental flags
- Content Security Policy
- Fonts
- Live content collections
- Client prerendering
- Intellisense for collections
- Preserve scripts order
- Markdown heading ID compatibility
- Private meta environment variables inlining
- Chrome DevTools workspace
- Prerender conflict error
- SVG optimization
- Legacy flags
- Error reference
- Integrations overview
- UI frameworks
								
							
							
	



						
						
	
				
						Alpine.js
						
					
			
				
						Preact
						
					
			
				
						React
						
					
			
				
						SolidJS
						
					
			
				
						Svelte
						
					
			
				
						Vue
- Alpine.js
- Preact
- React
- SolidJS
- Svelte
- Vue
- Adapters
								
							
							
	



						
						
	
				
						Cloudflare
						
					
			
				
						Netlify
						
					
			
				
						Node
						
					
			
				
						Vercel
- Cloudflare
- Netlify
- Node
- Vercel
- Other official integrations
								
							
							
	



						
						
	
				
						DB
						
					
			
				
						Markdoc
						
					
			
				
						MDX
						
					
			
				
						Partytown
						
					
			
				
						Sitemap
- DB
- Markdoc
- MDX
- Partytown
- Sitemap
- Publish to npm
- Deployment guides
								
							
							
	



						
						
	
				
						Deployment overview
						
					
			
				
						AWS
						
					
			
				
						AWS via Flightcontrol
						
					
			
				
						AWS via SST
						
					
			
				
						Azion
						
					
			
				
						Buddy
						
					
			
				
						Cleavr
						
					
			
				
						Clever Cloud
						
					
			
				
						Cloudflare
						
					
			
				
						CloudRay
						
					
			
				
						Deno Deploy
						
					
			
				
						DeployHQ
						
					
			
				
						Firebase
						
					
			
				
						Fleek
						
					
			
				
						Fly.io
						
					
			
				
						GitHub Pages
						
					
			
				
						GitLab Pages
						
					
			
				
						Google Cloud
						
					
			
				
						Heroku
						
					
			
				
						Juno
						
					
			
				
						Kinsta
						
					
			
				
						Microsoft Azure
						
					
			
				
						Netlify
						
					
			
				
						Railway
						
					
			
				
						Render
						
					
			
				
						Seenode
						
					
			
				
						Stormkit
						
					
			
				
						Surge
						
					
			
				
						Vercel
						
					
			
				
						Zeabur
						
					
			
				
						Zephyr Cloud
						
					
			
				
						Zerops
- Deployment overview
- AWS
- AWS via Flightcontrol
- AWS via SST
- Azion
- Buddy
- Cleavr
- Clever Cloud
- Cloudflare
- CloudRay
- Deno Deploy
- DeployHQ
- Firebase
- Fleek
- Fly.io
- GitHub Pages
- GitLab Pages
- Google Cloud
- Heroku
- Juno
- Kinsta
- Microsoft Azure
- Netlify
- Railway
- Render
- Seenode
- Stormkit
- Surge
- Vercel
- Zeabur
- Zephyr Cloud
- Zerops
- Content management systems
								
							
							
	



						
						
	
				
						CMS overview
						
					
			
				
						ApostropheCMS
						
					
			
				
						Builder.io
						
					
			
				
						ButterCMS
						
					
			
				
						Caisy
						
					
			
				
						CloudCannon
						
					
			
				
						Contentful
						
					
			
				
						Cosmic
						
					
			
				
						Craft CMS
						
					
			
				
						Craft Cross CMS
						
					
			
				
						Crystallize
						
					
			
				
						DatoCMS
						
					
			
				
						Decap CMS
						
					
			
				
						Directus
						
					
			
				
						Drupal
						
					
			
				
						Flotiq
						
					
			
				
						Front Matter CMS
						
					
			
				
						Ghost
						
					
			
				
						GitCMS
						
					
			
				
						Hashnode
						
					
			
				
						Hygraph
						
					
			
				
						JekyllPad
						
					
			
				
						Keystatic
						
					
			
				
						KeystoneJS
						
					
			
				
						Kontent.ai
						
					
			
				
						microCMS
						
					
			
				
						Optimizely CMS
						
					
			
				
						Payload CMS
						
					
			
				
						Prepr CMS
						
					
			
				
						Prismic
						
					
			
				
						Sanity
						
					
			
				
						Sitecore XM
						
					
			
				
						Sitepins
						
					
			
				
						Spinal
						
					
			
				
						Statamic
						
					
			
				
						Storyblok
						
					
			
				
						Strapi
						
					
			
				
						StudioCMS
						
					
			
				
						Tina CMS
						
					
			
				
						Umbraco
						
					
			
				
						Wordpress
- CMS overview
- ApostropheCMS
- Builder.io
- ButterCMS
- Caisy
- CloudCannon
- Contentful
- Cosmic
- Craft CMS
- Craft Cross CMS
- Crystallize
- DatoCMS
- Decap CMS
- Directus
- Drupal
- Flotiq
- Front Matter CMS
- Ghost
- GitCMS
- Hashnode
- Hygraph
- JekyllPad
- Keystatic
- KeystoneJS
- Kontent.ai
- microCMS
- Optimizely CMS
- Payload CMS
- Prepr CMS
- Prismic
- Sanity
- Sitecore XM
- Sitepins
- Spinal
- Statamic
- Storyblok
- Strapi
- StudioCMS
- Tina CMS
- Umbraco
- Wordpress
- Backend services
								
							
							
	



						
						
	
				
						Backend services overview
						
					
			
				
						Appwrite
						
					
			
				
						Firebase
						
					
			
				
						Neon
						
					
			
				
						Prisma Postgres
						
					
			
				
						Sentry
						
					
			
				
						Supabase
						
					
			
				
						Turso
						
					
			
				
						Xata
- Backend services overview
- Appwrite
- Firebase
- Neon
- Prisma Postgres
- Sentry
- Supabase
- Turso
- Xata
- Image and video hosting
								
							
							
	



						
						
	
				
						Media hosting overview
						
					
			
				
						Cloudinary
						
					
			
				
						Mux
- Media hosting overview
- Cloudinary
- Mux
- E-commerce
- Authentication
- Testing
## Sponsored by

## Sponsored by

- Overview
- The context object
				
				
	
				
					props
				
				
			
				
					params
				
				
			
				
					url
				
				
			
				
					site
				
				
			
				
					clientAddress
				
				
			
				
					isPrerendered
				
				
			
				
					generator
				
				
			
				
					request
				
				
			
				
					response
				
				
			
				
					redirect()
				
				
			
				
					rewrite()
				
				
			
				
					originPathname
				
				
			
				
					locals
				
				
			
				
					preferredLocale
				
				
			
				
					preferredLocaleList
				
				
			
				
					currentLocale
				
				
			
				
					getActionResult()
				
				
			
				
					callAction()
				
				
			
				
					routePattern
				
				
			
				
					cookies
				
				
	
				
					Cookie utilities
				
				
			
				
					AstroCookie Type
				
				
			
				
					AstroCookieGetOptions
				
				
			
				
					AstroCookieSetOptions
				
				
			

			
				
					session
				
				
	
				
					get()
				
				
			
				
					set()
				
				
			
				
					regenerate()
				
				
			
				
					destroy()
				
				
			
				
					load()
				
				
			

			
				
					Deprecated object properties
				
				
	
				
					Astro.glob()
- props
- params
- url
- site
- clientAddress
- isPrerendered
- generator
- request
- response
- redirect()
- rewrite()
- originPathname
- locals
- preferredLocale
- preferredLocaleList
- currentLocale
- getActionResult()
- callAction()
- routePattern
- cookies
				
				
	
				
					Cookie utilities
				
				
			
				
					AstroCookie Type
				
				
			
				
					AstroCookieGetOptions
				
				
			
				
					AstroCookieSetOptions
- Cookie utilities
- AstroCookie Type
- AstroCookieGetOptions
- AstroCookieSetOptions
- session
				
				
	
				
					get()
				
				
			
				
					set()
				
				
			
				
					regenerate()
				
				
			
				
					destroy()
				
				
			
				
					load()
- get()
- set()
- regenerate()
- destroy()
- load()
- Deprecated object properties
				
				
	
				
					Astro.glob()
- Astro.glob()
## On this page

- Overview
- The context object
props
params
url
site
clientAddress
isPrerendered
generator
request
response
redirect()
rewrite()
originPathname
locals
preferredLocale
preferredLocaleList
currentLocale
getActionResult()
callAction()
routePattern
cookies
Cookie utilities
AstroCookie Type
AstroCookieGetOptions
AstroCookieSetOptions
session
get()
set()
regenerate()
destroy()
load()
Deprecated object properties
Astro.glob()
- props
- params
- url
- site
- clientAddress
- isPrerendered
- generator
- request
- response
- redirect()
- rewrite()
- originPathname
- locals
- preferredLocale
- preferredLocaleList
- currentLocale
- getActionResult()
- callAction()
- routePattern
- cookies
Cookie utilities
AstroCookie Type
AstroCookieGetOptions
AstroCookieSetOptions
- Cookie utilities
- AstroCookie Type
- AstroCookieGetOptions
- AstroCookieSetOptions
- session
get()
set()
regenerate()
destroy()
load()
- get()
- set()
- regenerate()
- destroy()
- load()
- Deprecated object properties
Astro.glob()
- Astro.glob()
## Learn Astro with Coding in Public

150+ video lessons
â€¢
Astro v5 ready

# Astro render context

When rendering a page, Astro provides a runtime API specific to the current render. This includes useful information such as the current page URL as well as APIs to perform actions like redirecting to another page.

In .astro components, this context is available from the Astro global object. Endpoint functions are also called with this same context object as their first argument, whose properties mirror the Astro global properties.

```
.astro
```

```
Astro
```

Some properties are only available for routes rendered on demand or may have limited functionality on prerendered pages.

The Astro global object is available to all .astro files. Use the context object in endpoint functions to serve static or live server endpoints and in middleware to inject behavior when a page or endpoint is about to be rendered.

```
Astro
```

```
.astro
```

```
context
```

## The context object

The following properties are available on the Astro global (e.g. Astro.props, Astro.redirect()) and are also available on the context object (e.g. context.props, context.redirect()) passed to endpoint functions and middleware.

```
Astro
```

```
Astro.props
```

```
Astro.redirect()
```

```
context.props
```

```
context.redirect()
```

### props

```
props
```

props is an object containing any values that have been passed as component attributes.

```
props
```

```
---
const { title, date } = Astro.props;
---
<div>
  <h1>{title}</h1>
  <p>{date}</p>
</div>
```

```
---
const { title, date } = Astro.props;
---
<div>
  <h1>{title}</h1>
  <p>{date}</p>
</div>
```

```
---
import Heading from '../components/Heading.astro';
---
<Heading title="My First Post" date="09 Aug 2022" />
```

```
---
import Heading from '../components/Heading.astro';
---
<Heading title="My First Post" date="09 Aug 2022" />
```

The props object also contains any props passed from getStaticPaths() when rendering static routes.

```
props
```

```
props
```

```
getStaticPaths()
```

- Astro.props
- context.props
```
---
export function getStaticPaths() {
  return [
    { params: { id: '1' }, props: { author: 'Blu' } },
    { params: { id: '2' }, props: { author: 'Erika' } },
    { params: { id: '3' }, props: { author: 'Matthew' } }
  ];
}


const { id } = Astro.params;
const { author } = Astro.props;
---
```

```
---
export function getStaticPaths() {
  return [
    { params: { id: '1' }, props: { author: 'Blu' } },
    { params: { id: '2' }, props: { author: 'Erika' } },
    { params: { id: '3' }, props: { author: 'Matthew' } }
  ];
}


const { id } = Astro.params;
const { author } = Astro.props;
---
```

```
import type { APIContext } from 'astro';
export function getStaticPaths() {  return [    { params: { id: '1' }, props: { author: 'Blu' } },    { params: { id: '2' }, props: { author: 'Erika' } },    { params: { id: '3' }, props: { author: 'Matthew' } }  ];}
export function GET({ props }: APIContext) {  return new Response(    JSON.stringify({ author: props.author }),  );}
```

```
import type { APIContext } from 'astro';
export function getStaticPaths() {  return [    { params: { id: '1' }, props: { author: 'Blu' } },    { params: { id: '2' }, props: { author: 'Erika' } },    { params: { id: '3' }, props: { author: 'Matthew' } }  ];}
export function GET({ props }: APIContext) {  return new Response(    JSON.stringify({ author: props.author }),  );}
```

See also: Data Passing with props

```
props
```

### params

```
params
```

params is an object containing the values of dynamic route segments matched for a request. Its keys must match the parameters in the page or endpoint file path.

```
params
```

In static builds, this will be the params returned by getStaticPaths() used for prerendering dynamic routes:

```
params
```

```
getStaticPaths()
```

- Astro.params
- context.params
```
---
export function getStaticPaths() {
  return [
    { params: { id: '1' } },
    { params: { id: '2' } },
    { params: { id: '3' } }
  ];
}
const { id } = Astro.params;
---
<h1>{id}</h1>
```

```
---
export function getStaticPaths() {
  return [
    { params: { id: '1' } },
    { params: { id: '2' } },
    { params: { id: '3' } }
  ];
}
const { id } = Astro.params;
---
<h1>{id}</h1>
```

```
import type { APIContext } from 'astro';
export function getStaticPaths() {  return [    { params: { id: '1' } },    { params: { id: '2' } },    { params: { id: '3' } }  ];}
export function GET({ params }: APIContext) {  return new Response(    JSON.stringify({ id: params.id }),  );}
```

```
import type { APIContext } from 'astro';
export function getStaticPaths() {  return [    { params: { id: '1' } },    { params: { id: '2' } },    { params: { id: '3' } }  ];}
export function GET({ params }: APIContext) {  return new Response(    JSON.stringify({ id: params.id }),  );}
```

When routes are rendered on demand, params can be any value matching the path segments in the dynamic route pattern.

```
params
```

```
---
import { getPost } from '../api';


const post = await getPost(Astro.params.id);


// No posts found with this ID
if (!post) {
  return Astro.redirect("/404")
}
---
<html>
  <h1>{post.name}</h1>
</html>
```

```
---
import { getPost } from '../api';


const post = await getPost(Astro.params.id);


// No posts found with this ID
if (!post) {
  return Astro.redirect("/404")
}
---
<html>
  <h1>{post.name}</h1>
</html>
```

See also: params

```
params
```

### url

```
url
```

Type: URL

```
URL
```

```
astro@1.0.0
```

url is a URL object constructed from the current request.url value. It is useful for interacting with individual properties of the request URL, like pathname and origin.

```
url
```

```
request.url
```

Astro.url is equivalent to doing new URL(Astro.request.url).

```
Astro.url
```

```
new URL(Astro.request.url)
```

url will be a localhost URL in dev mode. When building a site, prerendered routes will receive a URL based on the site and base options. If site is not configured, prerendered pages will receive a localhost URL during builds as well.

```
url
```

```
localhost
```

```
site
```

```
base
```

```
site
```

```
localhost
```

```
<h1>The current URL is: {Astro.url}</h1>
<h1>The current URL pathname is: {Astro.url.pathname}</h1>
<h1>The current URL origin is: {Astro.url.origin}</h1>
```

```
<h1>The current URL is: {Astro.url}</h1>
<h1>The current URL pathname is: {Astro.url.pathname}</h1>
<h1>The current URL origin is: {Astro.url.origin}</h1>
```

You can also use url to create new URLs by passing it as an argument to new URL().

```
url
```

```
new URL()
```

```
---
// Example: Construct a canonical URL using your production domain
const canonicalURL = new URL(Astro.url.pathname, Astro.site);
// Example: Construct a URL for SEO meta tags using your current domain
const socialImageURL = new URL('/images/preview.png', Astro.url);
---
<link rel="canonical" href={canonicalURL} />
<meta property="og:image" content={socialImageURL} />
```

```
---
// Example: Construct a canonical URL using your production domain
const canonicalURL = new URL(Astro.url.pathname, Astro.site);
// Example: Construct a URL for SEO meta tags using your current domain
const socialImageURL = new URL('/images/preview.png', Astro.url);
---
<link rel="canonical" href={canonicalURL} />
<meta property="og:image" content={socialImageURL} />
```

### site

```
site
```

Type: URL | undefined

```
URL | undefined
```

site returns a URL made from site in your Astro config. It returns undefined if you have not set a value for site in your Astro config.

```
site
```

```
URL
```

```
site
```

```
undefined
```

```
site
```

```
<link
    rel="alternate"
    type="application/rss+xml"
    title="Your Site's Title"
    href={new URL("rss.xml", Astro.site)}
/>
```

```
<link
    rel="alternate"
    type="application/rss+xml"
    title="Your Site's Title"
    href={new URL("rss.xml", Astro.site)}
/>
```

### clientAddress

```
clientAddress
```

Type: string

```
string
```

```
astro@1.0.0
```

clientAddress specifies the IP address of the request. This property is only available for routes rendered on demand and cannot be used on prerendered pages.

```
clientAddress
```

- Astro.clientAddress
- context.clientAddress
```
---
export const prerender = false; // Not needed in 'server' mode
---


<div>Your IP address is: <span class="address">{Astro.clientAddress}</span></div>
```

```
---
export const prerender = false; // Not needed in 'server' mode
---


<div>Your IP address is: <span class="address">{Astro.clientAddress}</span></div>
```

```
export const prerender = false; // Not needed in 'server' modeimport type { APIContext } from 'astro';
export function GET({ clientAddress }: APIContext) {  return new Response(`Your IP address is: ${clientAddress}`);}
```

```
export const prerender = false; // Not needed in 'server' modeimport type { APIContext } from 'astro';
export function GET({ clientAddress }: APIContext) {  return new Response(`Your IP address is: ${clientAddress}`);}
```

### isPrerendered

```
isPrerendered
```

Type: boolean

```
boolean
```

```
astro@5.0.0
```

A boolean representing whether or not the current page is prerendered.

You can use this property to run conditional logic in middleware, for example, to avoid accessing headers in prerendered pages.

### generator

```
generator
```

Type: string

```
string
```

```
astro@1.0.0
```

generator provides the current version of Astro your project is running. This is a convenient way to add a <meta name="generator"> tag with your current version of Astro. It follows the format "Astro v5.x.x".

```
generator
```

```
<meta name="generator">
```

```
"Astro v5.x.x"
```

- Astro.generator
- context.generator
```
<html>
  <head>
    <meta name="generator" content={Astro.generator} />
  </head>
  <body>
    <footer>
      <p>Built with <a href="https://astro.build">{Astro.generator}</a></p>
    </footer>
  </body>
</html>
```

```
<html>
  <head>
    <meta name="generator" content={Astro.generator} />
  </head>
  <body>
    <footer>
      <p>Built with <a href="https://astro.build">{Astro.generator}</a></p>
    </footer>
  </body>
</html>
```

```
import type { APIContext } from 'astro';
export function GET({ generator, site }: APIContext) {  const body = JSON.stringify({ generator, site });  return new Response(body);}
```

```
import type { APIContext } from 'astro';
export function GET({ generator, site }: APIContext) {  const body = JSON.stringify({ generator, site });  return new Response(body);}
```

### request

```
request
```

Type: Request

```
Request
```

request is a standard Request object. It can be used to get the url, headers, method, and even the body of the request.

```
request
```

```
url
```

```
headers
```

```
method
```

- Astro.request
- context.request
```
<p>Received a {Astro.request.method} request to "{Astro.request.url}".</p>
<p>Received request headers:</p>
<p><code>{JSON.stringify(Object.fromEntries(Astro.request.headers))}</code></p>
```

```
<p>Received a {Astro.request.method} request to "{Astro.request.url}".</p>
<p>Received request headers:</p>
<p><code>{JSON.stringify(Object.fromEntries(Astro.request.headers))}</code></p>
```

```
import type { APIContext } from 'astro';
export function GET({ request }: APIContext) {  return new Response(`Hello ${request.url}`);}
```

```
import type { APIContext } from 'astro';
export function GET({ request }: APIContext) {  return new Response(`Hello ${request.url}`);}
```

Note

On prerendered pages, request.url does not contain search parameters, like ?type=new, as itâ€™s not possible to determine them ahead of time during static builds. However, request.url does contain search parameters for pages rendered on-demand as they can be determined from a server request.

```
request.url
```

```
?type=new
```

```
request.url
```

### response

```
response
```

Type: ResponseInit & { readonly headers: Headers }

```
ResponseInit & { readonly headers: Headers }
```

response is a standard ResponseInit object. It has the following structure.

```
response
```

```
ResponseInit
```

- status: The numeric status code of the response, e.g., 200.
```
status
```

```
200
```

- statusText: The status message associated with the status code, e.g., 'OK'.
```
statusText
```

```
'OK'
```

- headers: A Headers instance that you can use to set the HTTP headers of the response.
```
headers
```

```
Headers
```

Astro.response is used to set the status, statusText, and headers for a pageâ€™s response.

```
Astro.response
```

```
status
```

```
statusText
```

```
headers
```

```
---
if (condition) {
  Astro.response.status = 404;
  Astro.response.statusText = 'Not found';
}
---
```

```
---
if (condition) {
  Astro.response.status = 404;
  Astro.response.statusText = 'Not found';
}
---
```

Or to set a header:

```
---
Astro.response.headers.set('Set-Cookie', 'a=b; Path=/;');
---
```

```
---
Astro.response.headers.set('Set-Cookie', 'a=b; Path=/;');
---
```

### redirect()

```
redirect()
```

Type: (path: string, status?: number) => Response

```
(path: string, status?: number) => Response
```

```
astro@1.5.0
```

redirect() returns a Response object that allows you to redirect to another page, and optionally provide an HTTP response status code as a second parameter.

```
redirect()
```

A page (and not a child component) must return the result of Astro.redirect() for the redirect to occur.

```
return
```

```
Astro.redirect()
```

For statically-generated routes, this will produce a client redirect using a <meta http-equiv="refresh"> tag and does not support status codes.

```
<meta http-equiv="refresh">
```

For on-demand rendered routes, setting a custom status code is supported when redirecting. If not specified, redirects will be served with a 302 status code.

```
302
```

The following example redirects a user to a login page:

- Astro.redirect()
- context.redirect()
```
---
import { isLoggedIn } from '../utils';


const cookie = Astro.request.headers.get('cookie');


// If the user is not logged in, redirect them to the login page
if (!isLoggedIn(cookie)) {
  return Astro.redirect('/login');
}
---


<p>User information</p>
```

```
---
import { isLoggedIn } from '../utils';


const cookie = Astro.request.headers.get('cookie');


// If the user is not logged in, redirect them to the login page
if (!isLoggedIn(cookie)) {
  return Astro.redirect('/login');
}
---


<p>User information</p>
```

```
import type { APIContext } from 'astro';
export function GET({ redirect, request }: APIContext) {  const cookie = request.headers.get('cookie');  if (!isLoggedIn(cookie)) {    return redirect('/login', 302);  } else {    // return user information  }}
```

```
import type { APIContext } from 'astro';
export function GET({ redirect, request }: APIContext) {  const cookie = request.headers.get('cookie');  if (!isLoggedIn(cookie)) {    return redirect('/login', 302);  } else {    // return user information  }}
```

### rewrite()

```
rewrite()
```

Type: (rewritePayload: string | URL | Request) => Promise<Response>

```
(rewritePayload: string | URL | Request) => Promise<Response>
```

```
astro@4.13.0
```

rewrite() allows you to serve content from a different URL or path without redirecting the browser to a new page.

```
rewrite()
```

The method accepts either a string, a URL, or a Request for the location of the path.

```
URL
```

```
Request
```

Use a string to provide an explicit path:

- Astro.rewrite()
- context.rewrite()
```
---
return Astro.rewrite("/login")
---
```

```
---
return Astro.rewrite("/login")
---
```

```
import type { APIContext } from 'astro';
export function GET({ rewrite }: APIContext) {  return rewrite('/login');}
```

```
import type { APIContext } from 'astro';
export function GET({ rewrite }: APIContext) {  return rewrite('/login');}
```

Use a URL type when you need to construct the URL path for the rewrite. The following example renders a pageâ€™s parent path by creating a new URL from the relative "../" path:

```
URL
```

```
"../"
```

- Astro.rewrite()
- context.rewrite()
```
---
return Astro.rewrite(new URL("../", Astro.url))
---
```

```
---
return Astro.rewrite(new URL("../", Astro.url))
---
```

```
import type { APIContext } from 'astro';
export function GET({ rewrite }: APIContext) {  return rewrite(new URL("../", Astro.url));}
```

```
import type { APIContext } from 'astro';
export function GET({ rewrite }: APIContext) {  return rewrite(new URL("../", Astro.url));}
```

Use a Request type for complete control of the Request sent to the server for the new path. The following example sends a request to render the parent page while also providing headers:

```
Request
```

```
Request
```

- Astro.rewrite()
- context.rewrite()
```
---
return Astro.rewrite(new Request(new URL("../", Astro.url), {
  headers: {
    "x-custom-header": JSON.stringify(Astro.locals.someValue)
  }
}))
---
```

```
---
return Astro.rewrite(new Request(new URL("../", Astro.url), {
  headers: {
    "x-custom-header": JSON.stringify(Astro.locals.someValue)
  }
}))
---
```

```
import type { APIContext } from 'astro';
export function GET({ rewrite }: APIContext) {  return rewrite(new Request(new URL("../", Astro.url), {    headers: {      "x-custom-header": JSON.stringify(Astro.locals.someValue)    }  }));}
```

```
import type { APIContext } from 'astro';
export function GET({ rewrite }: APIContext) {  return rewrite(new Request(new URL("../", Astro.url), {    headers: {      "x-custom-header": JSON.stringify(Astro.locals.someValue)    }  }));}
```

### originPathname

```
originPathname
```

Type: string

```
string
```

```
astro@5.0.0
```

originPathname defines the original pathname of the request, before rewrites were applied.

```
originPathname
```

- Astro.originPathname
- context.originPathname
```
<p>The origin path is {Astro.originPathname}</p>
<p>The rewritten path is {Astro.url.pathname}</p>
```

```
<p>The origin path is {Astro.originPathname}</p>
<p>The rewritten path is {Astro.url.pathname}</p>
```

```
import { defineMiddleware } from 'astro:middleware';
export const onRequest = defineMiddleware(async (context, next) => {  // Record the original pathname before any rewrites  recordPageVisit(context.originPathname);  return next();});
```

```
import { defineMiddleware } from 'astro:middleware';
export const onRequest = defineMiddleware(async (context, next) => {  // Record the original pathname before any rewrites  recordPageVisit(context.originPathname);  return next();});
```

### locals

```
locals
```

Added in: astro@2.4.0

```
astro@2.4.0
```

locals is an object used to store and access arbitrary information during the lifecycle of a request. Astro.locals is an object containing any values from the context.locals object set by middleware. Use this to access data returned by middleware in your .astro files.

```
locals
```

```
Astro.locals
```

```
context.locals
```

```
.astro
```

Middleware functions can both read and write the values of context.locals:

```
context.locals
```

```
import type { MiddlewareHandler } from 'astro';


export const onRequest: MiddlewareHandler = ({ locals }, next) => {
  if (!locals.title) {
    locals.title = "Default Title";
  }
  return next();
}
```

```
import type { MiddlewareHandler } from 'astro';


export const onRequest: MiddlewareHandler = ({ locals }, next) => {
  if (!locals.title) {
    locals.title = "Default Title";
  }
  return next();
}
```

Astro components and API endpoints can read values from locals when they render:

```
locals
```

- Astro.locals
- context.locals
```
---
const title = Astro.locals.title;
---
<h1>{title}</h1>
```

```
---
const title = Astro.locals.title;
---
<h1>{title}</h1>
```

```
import type { APIContext } from 'astro';
export function GET({ locals }: APIContext) {  return new Response(locals.title); // "Default Title"}
```

```
import type { APIContext } from 'astro';
export function GET({ locals }: APIContext) {  return new Response(locals.title); // "Default Title"}
```

### preferredLocale

```
preferredLocale
```

Type: string | undefined

```
string | undefined
```

```
astro@3.5.0
```

preferredLocale is a computed value to find the best match between your visitorâ€™s browser language preferences and the locales supported by your site.

```
preferredLocale
```

It is computed by checking the configured locales in your i18n.locales array and the locales supported by the userâ€™s browser via the header Accept-Language. This value is undefined if no such match exists.

```
i18n.locales
```

```
Accept-Language
```

```
undefined
```

This property is only available for routes rendered on demand and cannot be used on prerendered, static pages.

### preferredLocaleList

```
preferredLocaleList
```

Type: string[] | undefined

```
string[] | undefined
```

```
astro@3.5.0
```

preferredLocaleList represents the array of all locales that are both requested by the browser and supported by your website. This produces a list of all compatible languages between your site and your visitor.

```
preferredLocaleList
```

If none of the browserâ€™s requested languages are found in your locales array, then the value is []. This occurs when you do not support any of your visitorâ€™s preferred locales.

```
[]
```

If the browser does not specify any preferred languages, then this value will be i18n.locales: all of your supported locales will be considered equally preferred by a visitor with no preferences.

```
i18n.locales
```

This property is only available for routes rendered on demand and cannot be used on prerendered, static pages.

### currentLocale

```
currentLocale
```

Type: string | undefined

```
string | undefined
```

```
astro@3.5.6
```

The locale computed from the current URL, using the syntax specified in your locales configuration. If the URL does not contain a /[locale]/ prefix, then the value will default to i18n.defaultLocale.

```
locales
```

```
/[locale]/
```

```
i18n.defaultLocale
```

### getActionResult()

```
getActionResult()
```

Type: (action: TAction) => ActionReturnType<TAction> | undefined

```
(action: TAction) => ActionReturnType<TAction> | undefined
```

```
astro@4.15.0
```

getActionResult() is a function that returns the result of an Action submission. This accepts an action function as an argument (e.g. actions.logout) and returns a data or error object when a submission is received. Otherwise, it will return undefined.

```
getActionResult()
```

```
actions.logout
```

```
data
```

```
error
```

```
undefined
```

```
---
import { actions } from 'astro:actions';


const result = Astro.getActionResult(actions.logout);
---


<form action={actions.logout}>
  <button type="submit">Log out</button>
</form>
{result?.error && <p>Failed to log out. Please try again.</p>}
```

```
---
import { actions } from 'astro:actions';


const result = Astro.getActionResult(actions.logout);
---


<form action={actions.logout}>
  <button type="submit">Log out</button>
</form>
{result?.error && <p>Failed to log out. Please try again.</p>}
```

### callAction()

```
callAction()
```

Added in: astro@4.15.0

```
astro@4.15.0
```

callAction() is a function used to call an Action handler directly from your Astro component. This function accepts an Action function as the first argument (e.g. actions.logout) and any input that action receives as the second argument. It returns the result of the action as a promise.

```
callAction()
```

```
actions.logout
```

```
---
import { actions } from 'astro:actions';


const { data, error } = await Astro.callAction(actions.logout, { userId: '123' });
---
```

```
---
import { actions } from 'astro:actions';


const { data, error } = await Astro.callAction(actions.logout, { userId: '123' });
---
```

### routePattern

```
routePattern
```

Type: string

```
string
```

```
astro@5.0.0
```

The route pattern responsible for generating the current page or route. In file-based routing, this resembles the file path in your project used to create the route. When integrations create routes for your project, context.routePattern is identical to the value for injectRoute.pattern.

```
context.routePattern
```

```
injectRoute.pattern
```

The value will start with a leading slash and look similar to the path of a page component relative to your src/pages/ folder without a file extension.

```
src/pages/
```

For example, the file src/pages/en/blog/[slug].astro will return /en/blog/[slug] for routePattern. Every page on your site generated by that file (e.g. /en/blog/post-1/, /en/blog/post-2/, etc.) shares the same value for routePattern. In the case of index.* routes, the route pattern will not include the word â€œindex.â€ For example, src/pages/index.astro will return /.

```
src/pages/en/blog/[slug].astro
```

```
/en/blog/[slug]
```

```
routePattern
```

```
/en/blog/post-1/
```

```
/en/blog/post-2/
```

```
routePattern
```

```
index.*
```

```
src/pages/index.astro
```

```
/
```

You can use this property to understand which route is rendering your component. This allows you to target or analyze similarly-generated page URLs together. For example, you can use it to conditionally render certain information, or collect metrics about which routes are slower.

### cookies

```
cookies
```

Type: AstroCookies

```
AstroCookies
```

```
astro@1.4.0
```

cookies contains utilities for reading and manipulating cookies for routes rendered on demand.

```
cookies
```

#### Cookie utilities

##### cookies.get()

```
cookies.get()
```

Type: (key: string, options?: AstroCookieGetOptions) => AstroCookie | undefined

```
(key: string, options?: AstroCookieGetOptions) => AstroCookie | undefined
```

Gets the cookie as an AstroCookie object, which contains the value and utility functions for converting the cookie to non-string types.

```
AstroCookie
```

```
value
```

##### cookies.has()

```
cookies.has()
```

Type: (key: string, options?: AstroCookieGetOptions) => boolean

```
(key: string, options?: AstroCookieGetOptions) => boolean
```

Whether this cookie exists. If the cookie has been set via Astro.cookies.set() this will return true, otherwise, it will check cookies in the Astro.request.

```
Astro.cookies.set()
```

```
Astro.request
```

##### cookies.set()

```
cookies.set()
```

Type: (key: string, value: string | object, options?: AstroCookieSetOptions) => void

```
(key: string, value: string | object, options?: AstroCookieSetOptions) => void
```

Sets the cookie key to the given value. This will attempt to convert the cookie value to a string. Options provide ways to set cookie features, such as the maxAge or httpOnly.

```
key
```

```
maxAge
```

```
httpOnly
```

##### cookies.delete()

```
cookies.delete()
```

Type: (key: string, options?: AstroCookieDeleteOptions) => void

```
(key: string, options?: AstroCookieDeleteOptions) => void
```

Invalidates a cookie by setting the expiration date in the past (0 in Unix time).

Once a cookie is â€œdeletedâ€ (expired), Astro.cookies.has() will return false and Astro.cookies.get() will return an AstroCookie with a value of undefined. Options available when deleting a cookie are: domain, path, httpOnly, sameSite, and secure.

```
Astro.cookies.has()
```

```
false
```

```
Astro.cookies.get()
```

```
AstroCookie
```

```
value
```

```
undefined
```

```
domain
```

```
path
```

```
httpOnly
```

```
sameSite
```

```
secure
```

##### cookies.merge()

```
cookies.merge()
```

Type: (cookies: AstroCookies) => void

```
(cookies: AstroCookies) => void
```

Merges a new AstroCookies instance into the current instance. Any new cookies will be added to the current instance and any cookies with the same name will overwrite existing values.

```
AstroCookies
```

##### cookies.headers()

```
cookies.headers()
```

Type: () => Iterator<string>

```
() => Iterator<string>
```

Gets the header values for Set-Cookie that will be sent out with the response.

```
Set-Cookie
```

#### AstroCookie Type

```
AstroCookie
```

The type returned from getting a cookie via Astro.cookies.get(). It has the following properties:

```
Astro.cookies.get()
```

##### value

```
value
```

Type: string

```
string
```

The raw string value of the cookie.

##### json

```
json
```

Type: () => Record<string, any>

```
() => Record<string, any>
```

Parses the cookie value via JSON.parse(), returning an object. Throws if the cookie value is not valid JSON.

```
JSON.parse()
```

##### number

```
number
```

Type: () => number

```
() => number
```

Parses the cookie value as a Number. Returns NaN if not a valid number.

##### boolean

```
boolean
```

Type: () => boolean

```
() => boolean
```

Converts the cookie value to a boolean.

#### AstroCookieGetOptions

```
AstroCookieGetOptions
```

Added in: astro@4.1.0

```
astro@4.1.0
```

The AstroCookieGetOption interface allows you to specify options when you get a cookie.

```
AstroCookieGetOption
```

##### decode

```
decode
```

Type: (value: string) => string

```
(value: string) => string
```

Allows customization of how a cookie is deserialized into a value.

#### AstroCookieSetOptions

```
AstroCookieSetOptions
```

Added in: astro@4.1.0

```
astro@4.1.0
```

AstroCookieSetOptions is an object that can be passed to Astro.cookies.set() when setting a cookie to customize how the cookie is serialized.

```
AstroCookieSetOptions
```

```
Astro.cookies.set()
```

##### domain

```
domain
```

Type: string

```
string
```

Specifies the domain. If no domain is set, most clients will interpret to apply to the current domain.

##### expires

```
expires
```

Type: Date

```
Date
```

Specifies the date on which the cookie will expire.

##### httpOnly

```
httpOnly
```

Type: boolean

```
boolean
```

If true, the cookie will not be accessible client-side.

##### maxAge

```
maxAge
```

Type: number

```
number
```

Specifies a number, in seconds, for which the cookie is valid.

##### path

```
path
```

Type: string

```
string
```

Specifies a subpath of the domain in which the cookie is applied.

##### sameSite

```
sameSite
```

Type: boolean | 'lax' | 'none' | 'strict'

```
boolean | 'lax' | 'none' | 'strict'
```

Specifies the value of the SameSite cookie header.

##### secure

```
secure
```

Type: boolean

```
boolean
```

If true, the cookie is only set on https sites.

##### encode

```
encode
```

Type: (value: string) => string

```
(value: string) => string
```

Allows customizing how the cookie is serialized.

### session

```
session
```

Type: AstroSession

```
AstroSession
```

```
astro@5.7.0
```

session is an object that allows data to be stored between requests for routes rendered on demand. It is associated with a cookie that contains the session ID only: the data itself is not stored in the cookie.

```
session
```

The session is created when first used, and the session cookie is automatically set. The session object is undefined if no session storage has been configured, or if the current route is prerendered, and will log an error if you try to use it.

```
session
```

```
undefined
```

See the session guide for more information on how to use sessions in your Astro project.

#### get()

```
get()
```

Type: (key: string) => Promise<any>

```
(key: string) => Promise<any>
```

Returns the value of the given key in the session. If the key does not exist, it returns undefined.

```
undefined
```

- Astro.session
- context.session
```
---
const cart = await Astro.session?.get('cart');
---
<button>ðŸ›’ {cart?.length}</button>
```

```
---
const cart = await Astro.session?.get('cart');
---
<button>ðŸ›’ {cart?.length}</button>
```

```
import type { APIContext } from 'astro';
export async function GET({ session }: APIContext) {  const cart = await session.get('cart');  return Response.json({ cart });}
```

```
import type { APIContext } from 'astro';
export async function GET({ session }: APIContext) {  const cart = await session.get('cart');  return Response.json({ cart });}
```

#### set()

```
set()
```

Type: (key: string, value: any, options?: { ttl: number }) => void

```
(key: string, value: any, options?: { ttl: number }) => void
```

Sets the value of the given key in the session. The value can be any serializable type. This method is synchronous and the value is immediately available for retrieval, but it is not saved to the backend until the end of the request.

- Astro.session
- context.session
```
---
const { slug } = Astro.params;
Astro.session?.set('lastViewedProduct', slug);
---
```

```
---
const { slug } = Astro.params;
Astro.session?.set('lastViewedProduct', slug);
---
```

```
import type { APIContext } from 'astro';
export async function POST({ session, request }: APIContext) {  const cart = await session.get('cart');  const newItem = await request.json();  cart.push(newItem);  // Save the updated cart to the session  session.set('cart', cart);  return Response.json({ cart });}
```

```
import type { APIContext } from 'astro';
export async function POST({ session, request }: APIContext) {  const cart = await session.get('cart');  const newItem = await request.json();  cart.push(newItem);  // Save the updated cart to the session  session.set('cart', cart);  return Response.json({ cart });}
```

#### regenerate()

```
regenerate()
```

Type: () => void

```
() => void
```

Regenerates the session ID. Call this when a user logs in or escalates their privileges, to prevent session fixation attacks.

- Astro.session
- context.session
```
---
Astro.session?.regenerate();
---
```

```
---
Astro.session?.regenerate();
---
```

```
import type { APIContext } from 'astro';
export async function POST({ session }: APIContext) {  // Authenticate the user...  doLogin();  // Regenerate the session ID to prevent session fixation attacks  session.regenerate();  return Response.json({ success: true });}
```

```
import type { APIContext } from 'astro';
export async function POST({ session }: APIContext) {  // Authenticate the user...  doLogin();  // Regenerate the session ID to prevent session fixation attacks  session.regenerate();  return Response.json({ success: true });}
```

#### destroy()

```
destroy()
```

Type: () => void

```
() => void
```

Destroys the session, deleting the cookie and the object from the backend. Call this when a user logs out or their session is otherwise invalidated.

- Astro.session
- context.session
```
---
Astro.session?.destroy();
return Astro.redirect('/login');
---
```

```
---
Astro.session?.destroy();
return Astro.redirect('/login');
---
```

```
import type { APIContext } from 'astro';
export async function POST({ session }: APIContext) {  session.destroy();  return Response.json({ success: true });}
```

```
import type { APIContext } from 'astro';
export async function POST({ session }: APIContext) {  session.destroy();  return Response.json({ success: true });}
```

#### load()

```
load()
```

Type: (id: string) => Promise<void>

```
(id: string) => Promise<void>
```

Loads a session by ID. In normal use, a session is loaded automatically from the request cookie. Use this method to load a session from a different ID. This is useful if you are handling the session ID yourself, or if you want to keep track of a session without using cookies.

- Astro.session
- context.session
```
---
// Load the session from a header instead of cookies
const sessionId = Astro.request.headers.get('x-session-id');
await Astro.session?.load(sessionId);
const cart = await Astro.session?.get('cart');
---
<h1>Your cart</h1>
<ul>
  {cart?.map((item) => (
    <li>{item.name}</li>
  ))}
</ul>
```

```
---
// Load the session from a header instead of cookies
const sessionId = Astro.request.headers.get('x-session-id');
await Astro.session?.load(sessionId);
const cart = await Astro.session?.get('cart');
---
<h1>Your cart</h1>
<ul>
  {cart?.map((item) => (
    <li>{item.name}</li>
  ))}
</ul>
```

```
import type { APIRoute } from 'astro';
export const GET: APIRoute = async ({ session, request }) => {  // Load the session from a header instead of cookies  const sessionId = request.headers.get('x-session-id');  await session.load(sessionId);  const cart = await session.get('cart');  return Response.json({ cart });};
```

```
import type { APIRoute } from 'astro';
export const GET: APIRoute = async ({ session, request }) => {  // Load the session from a header instead of cookies  const sessionId = request.headers.get('x-session-id');  await session.load(sessionId);  const cart = await session.get('cart');  return Response.json({ cart });};
```

### Deprecated object properties

#### Astro.glob()

```
Astro.glob()
```

Deprecated in v5.0

Use Viteâ€™s import.meta.glob to query project files.

```
import.meta.glob
```

Astro.glob('../pages/post/*.md') can be replaced with:

```
Astro.glob('../pages/post/*.md')
```

Object.values(import.meta.glob('../pages/post/*.md', { eager: true }));

```
Object.values(import.meta.glob('../pages/post/*.md', { eager: true }));
```

See the imports guide for more information and usage.

Astro.glob() is a way to load many local files into your static site setup.

```
Astro.glob()
```

```
---
const posts = await Astro.glob('../pages/post/*.md'); // returns an array of posts that live at ./src/pages/post/*.md
---


<div>
{posts.slice(0, 3).map((post) => (
  <article>
    <h2>{post.frontmatter.title}</h2>
    <p>{post.frontmatter.description}</p>
    <a href={post.url}>Read more</a>
  </article>
))}
</div>
```

```
---
const posts = await Astro.glob('../pages/post/*.md'); // returns an array of posts that live at ./src/pages/post/*.md
---


<div>
{posts.slice(0, 3).map((post) => (
  <article>
    <h2>{post.frontmatter.title}</h2>
    <p>{post.frontmatter.description}</p>
    <a href={post.url}>Read more</a>
  </article>
))}
</div>
```

.glob() only takes one parameter: a relative URL glob of which local files youâ€™d like to import. Itâ€™s asynchronous and returns an array of the exports from matching files.

```
.glob()
```

.glob() canâ€™t take variables or strings that interpolate them, as they arenâ€™t statically analyzable. (See the imports guide for a workaround.) This is because Astro.glob() is a wrapper of Viteâ€™s import.meta.glob().

```
.glob()
```

```
Astro.glob()
```

```
import.meta.glob()
```

Note

You can also use import.meta.glob() itself in your Astro project. You may want to do this when:

```
import.meta.glob()
```

- You need this feature in a file that isnâ€™t .astro, like an API route. Astro.glob() is only available in .astro files, while import.meta.glob() is available anywhere in the project.
```
.astro
```

```
Astro.glob()
```

```
.astro
```

```
import.meta.glob()
```

- You donâ€™t want to load each file immediately. import.meta.glob() can return functions that import the file content, rather than returning the content itself. Note that this import includes all styles and scripts for any imported files. These will be bundled and added to the page whether or not a file is actually used, as this is decided by static analysis, not at runtime.
```
import.meta.glob()
```

- You want access to each fileâ€™s path. import.meta.glob() returns a map of a fileâ€™s path to its content, while Astro.glob() returns a list of content.
```
import.meta.glob()
```

```
Astro.glob()
```

- You want to pass multiple patterns; for example, you want to add a â€œnegative patternâ€ that filters out certain files. import.meta.glob() can optionally take an array of glob strings, rather than a single string.
```
import.meta.glob()
```

Read more in the Vite documentation.

##### Markdown Files

Markdown files loaded with Astro.glob() return the following MarkdownInstance interface:

```
Astro.glob()
```

```
MarkdownInstance
```

```
export interface MarkdownInstance<T extends Record<string, any>> {
  /* Any data specified in this file's YAML/TOML frontmatter */
  frontmatter: T;
  /* The absolute file path of this file */
  file: string;
  /* The rendered path of this file */
  url: string | undefined;
  /* Astro Component that renders the contents of this file */
  Content: AstroComponentFactory;
  /** (Markdown only) Raw Markdown file content, excluding layout HTML and YAML/TOML frontmatter */
  rawContent(): string;
  /** (Markdown only) Markdown file compiled to HTML, excluding layout HTML */
  compiledContent(): string;
  /* Function that returns an array of the h1...h6 elements in this file */
  getHeadings(): Promise<{ depth: number; slug: string; text: string }[]>;
  default: AstroComponentFactory;
}
```

```
export interface MarkdownInstance<T extends Record<string, any>> {
  /* Any data specified in this file's YAML/TOML frontmatter */
  frontmatter: T;
  /* The absolute file path of this file */
  file: string;
  /* The rendered path of this file */
  url: string | undefined;
  /* Astro Component that renders the contents of this file */
  Content: AstroComponentFactory;
  /** (Markdown only) Raw Markdown file content, excluding layout HTML and YAML/TOML frontmatter */
  rawContent(): string;
  /** (Markdown only) Markdown file compiled to HTML, excluding layout HTML */
  compiledContent(): string;
  /* Function that returns an array of the h1...h6 elements in this file */
  getHeadings(): Promise<{ depth: number; slug: string; text: string }[]>;
  default: AstroComponentFactory;
}
```

You can optionally provide a type for the frontmatter variable using a TypeScript generic.

```
frontmatter
```

```
---
interface Frontmatter {
  title: string;
  description?: string;
}
const posts = await Astro.glob<Frontmatter>('../pages/post/*.md');
---


<ul>
  {posts.map(post => <li>{post.frontmatter.title}</li>)}
</ul>
```

```
---
interface Frontmatter {
  title: string;
  description?: string;
}
const posts = await Astro.glob<Frontmatter>('../pages/post/*.md');
---


<ul>
  {posts.map(post => <li>{post.frontmatter.title}</li>)}
</ul>
```

##### Astro Files

Astro files have the following interface:

```
export interface AstroInstance {
  /* The file path of this file */
  file: string;
  /* The URL for this file (if it is in the pages directory) */
  url: string | undefined;
  default: AstroComponentFactory;
}
```

```
export interface AstroInstance {
  /* The file path of this file */
  file: string;
  /* The URL for this file (if it is in the pages directory) */
  url: string | undefined;
  default: AstroComponentFactory;
}
```

##### Other Files

Other files may have various different interfaces, but Astro.glob() accepts a TypeScript generic if you know exactly what an unrecognized file type contains.

```
Astro.glob()
```

```
---
interface CustomDataFile {
  default: Record<string, any>;
}
const data = await Astro.glob<CustomDataFile>('../data/**/*.js');
---
```

```
---
interface CustomDataFile {
  default: Record<string, any>;
}
const data = await Astro.glob<CustomDataFile>('../data/**/*.js');
---
```

## Learn Astro with Coding in Public

150+ video lessons
			
			â€¢
			Astro v5 ready

