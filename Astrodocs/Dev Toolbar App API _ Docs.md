- Start
- Guides and recipes
- Reference
- Integrations
- Third-party services
- Getting started
- Welcome, world!
								
							
							
	



						
						
	
				
						Why Astro?
						
					
			
				
						Islands architecture
						
					
			
				
						Tutorial: Build a blog
						
					
			
				
						Courses
- Why Astro?
- Islands architecture
- Tutorial: Build a blog
- Courses
- Start a new project
								
							
							
	



						
						
	
				
						Installation
						
					
			
				
						Project structure
						
					
			
				
						Develop and build
- Installation
- Project structure
- Develop and build
- Configuration
								
							
							
	



						
						
	
				
						Configuration overview
						
					
			
				
						Editor setup
						
					
			
				
						TypeScript
						
					
			
				
						Environment variables
						
					
			
				
						Build with AI
						
					
			
				
						Dev toolbar
- Configuration overview
- Editor setup
- TypeScript
- Environment variables
- Build with AI
- Dev toolbar
- Migrate to Astro
								
							
							
	



						
						
	
				
						Site migration overview
						
					
			
				
						Create React App
						
					
			
				
						Docusaurus
						
					
			
				
						Eleventy
						
					
			
				
						Gatsby
						
					
			
				
						GitBook
						
					
			
				
						Gridsome
						
					
			
				
						Hugo
						
					
			
				
						Jekyll
						
					
			
				
						Next.js
						
					
			
				
						NuxtJS
						
					
			
				
						Pelican
						
					
			
				
						SvelteKit
						
					
			
				
						VuePress
						
					
			
				
						WordPress
- Site migration overview
- Create React App
- Docusaurus
- Eleventy
- Gatsby
- GitBook
- Gridsome
- Hugo
- Jekyll
- Next.js
- NuxtJS
- Pelican
- SvelteKit
- VuePress
- WordPress
- Routing and navigation
								
							
							
	



						
						
	
				
						Pages
						
					
			
				
						Routing
						
					
			
				
						Endpoints
						
					
			
				
						Middleware
						
					
			
				
						Internationalization (i18n)
						
					
			
				
						Prefetch
						
					
			
				
						View transitions
- Pages
- Routing
- Endpoints
- Middleware
- Internationalization (i18n)
- Prefetch
- View transitions
- Build your UI
								
							
							
	



						
						
	
				
						Components
						
					
			
				
						Layouts
						
					
			
				
						Styles and CSS
						
					
			
				
						Fonts
						
					
			
				
						Syntax Highlighting
						
					
			
				
						Scripts and event handling
						
					
			
				
						Front-end frameworks
- Components
- Layouts
- Styles and CSS
- Fonts
- Syntax Highlighting
- Scripts and event handling
- Front-end frameworks
- Add content to your site
								
							
							
	



						
						
	
				
						Markdown
						
					
			
				
						Content collections
						
					
			
				
						Images
						
					
			
				
						Data fetching
						
					
			
				
						Astro DB
- Markdown
- Content collections
- Images
- Data fetching
- Astro DB
- Server rendering
								
							
							
	



						
						
	
				
						On-demand rendering
						
					
			
				
						Server islands
						
					
			
				
						Actions
						
					
			
				
						Sessions
- On-demand rendering
- Server islands
- Actions
- Sessions
- Upgrade
								
							
							
	



						
						
	
				
						Upgrade Astro
						
					
			
				
						
						
							
								Major upgrade guides
								
							
							
	



						
						
	
				
						v5.0
						
					
			
				
						v4.0
						
					
			
				
						v3.0
						
					
			
				
						v2.0
						
					
			
				
						v1.0
- Upgrade Astro
- Major upgrade guides
								
							
							
	



						
						
	
				
						v5.0
						
					
			
				
						v4.0
						
					
			
				
						v3.0
						
					
			
				
						v2.0
						
					
			
				
						v1.0
- v5.0
- v4.0
- v3.0
- v2.0
- v1.0
- Troubleshooting
- How-to recipes
								
							
							
	



						
						
	
				
						Recipes overview
						
					
			
				
						Installing a Vite or Rollup plugin
						
					
			
				
						Analyze bundle size
						
					
			
				
						Build a custom image component
						
					
			
				
						Build HTML forms in Astro pages
						
					
			
				
						Build forms with API routes
						
					
			
				
						Use Bun with Astro
						
					
			
				
						Call endpoints from the server
						
					
			
				
						Verify a Captcha
						
					
			
				
						Customize file names in the build output
						
					
			
				
						Build your Astro site with Docker
						
					
			
				
						Dynamically import images
						
					
			
				
						Add icons to external links
						
					
			
				
						Add i18n features
						
					
			
				
						Create a dev toolbar app
						
					
			
				
						Add last modified time
						
					
			
				
						Add reading time
						
					
			
				
						Add an RSS feed
						
					
			
				
						Share state between Astro components
						
					
			
				
						Share state between islands
						
					
			
				
						Using streaming to improve page performance
						
					
			
				
						Style rendered Markdown with Tailwind Typography
- Recipes overview
- Installing a Vite or Rollup plugin
- Analyze bundle size
- Build a custom image component
- Build HTML forms in Astro pages
- Build forms with API routes
- Use Bun with Astro
- Call endpoints from the server
- Verify a Captcha
- Customize file names in the build output
- Build your Astro site with Docker
- Dynamically import images
- Add icons to external links
- Add i18n features
- Create a dev toolbar app
- Add last modified time
- Add reading time
- Add an RSS feed
- Share state between Astro components
- Share state between islands
- Using streaming to improve page performance
- Style rendered Markdown with Tailwind Typography
- Contribute to Astro
- Astro Template Syntax
- Configuration Reference
- CLI Commands
- Imports reference
- Routing Reference
- Runtime API
Render context
astro:actions
astro:assets
astro:config
astro:content
astro:env
astro:i18n
astro:middleware
astro:transitions
- Render context
- astro:actions
- astro:assets
- astro:config
- astro:content
- astro:env
- astro:i18n
- astro:middleware
- astro:transitions
- Other development APIs
Integration API
Adapter API
Content Loader API
Image Service API
Dev Toolbar App API
Container API (experimental)
Programmatic Astro API (experimental)
- Integration API
- Adapter API
- Content Loader API
- Image Service API
- Dev Toolbar App API
- Container API (experimental)
- Programmatic Astro API (experimental)
- Experimental features
Configuring experimental flags
Content Security Policy
Fonts
Live content collections
Client prerendering
Intellisense for collections
Preserve scripts order
Markdown heading ID compatibility
Private meta environment variables inlining
Chrome DevTools workspace
Prerender conflict error
SVG optimization
- Configuring experimental flags
- Content Security Policy
- Fonts
- Live content collections
- Client prerendering
- Intellisense for collections
- Preserve scripts order
- Markdown heading ID compatibility
- Private meta environment variables inlining
- Chrome DevTools workspace
- Prerender conflict error
- SVG optimization
- Legacy flags
- Error reference
- Integrations overview
- UI frameworks
								
							
							
	



						
						
	
				
						Alpine.js
						
					
			
				
						Preact
						
					
			
				
						React
						
					
			
				
						SolidJS
						
					
			
				
						Svelte
						
					
			
				
						Vue
- Alpine.js
- Preact
- React
- SolidJS
- Svelte
- Vue
- Adapters
								
							
							
	



						
						
	
				
						Cloudflare
						
					
			
				
						Netlify
						
					
			
				
						Node
						
					
			
				
						Vercel
- Cloudflare
- Netlify
- Node
- Vercel
- Other official integrations
								
							
							
	



						
						
	
				
						DB
						
					
			
				
						Markdoc
						
					
			
				
						MDX
						
					
			
				
						Partytown
						
					
			
				
						Sitemap
- DB
- Markdoc
- MDX
- Partytown
- Sitemap
- Publish to npm
- Deployment guides
								
							
							
	



						
						
	
				
						Deployment overview
						
					
			
				
						AWS
						
					
			
				
						AWS via Flightcontrol
						
					
			
				
						AWS via SST
						
					
			
				
						Azion
						
					
			
				
						Buddy
						
					
			
				
						Cleavr
						
					
			
				
						Clever Cloud
						
					
			
				
						Cloudflare
						
					
			
				
						CloudRay
						
					
			
				
						Deno Deploy
						
					
			
				
						DeployHQ
						
					
			
				
						Firebase
						
					
			
				
						Fleek
						
					
			
				
						Fly.io
						
					
			
				
						GitHub Pages
						
					
			
				
						GitLab Pages
						
					
			
				
						Google Cloud
						
					
			
				
						Heroku
						
					
			
				
						Juno
						
					
			
				
						Kinsta
						
					
			
				
						Microsoft Azure
						
					
			
				
						Netlify
						
					
			
				
						Railway
						
					
			
				
						Render
						
					
			
				
						Seenode
						
					
			
				
						Stormkit
						
					
			
				
						Surge
						
					
			
				
						Vercel
						
					
			
				
						Zeabur
						
					
			
				
						Zephyr Cloud
						
					
			
				
						Zerops
- Deployment overview
- AWS
- AWS via Flightcontrol
- AWS via SST
- Azion
- Buddy
- Cleavr
- Clever Cloud
- Cloudflare
- CloudRay
- Deno Deploy
- DeployHQ
- Firebase
- Fleek
- Fly.io
- GitHub Pages
- GitLab Pages
- Google Cloud
- Heroku
- Juno
- Kinsta
- Microsoft Azure
- Netlify
- Railway
- Render
- Seenode
- Stormkit
- Surge
- Vercel
- Zeabur
- Zephyr Cloud
- Zerops
- Content management systems
								
							
							
	



						
						
	
				
						CMS overview
						
					
			
				
						ApostropheCMS
						
					
			
				
						Builder.io
						
					
			
				
						ButterCMS
						
					
			
				
						Caisy
						
					
			
				
						CloudCannon
						
					
			
				
						Contentful
						
					
			
				
						Cosmic
						
					
			
				
						Craft CMS
						
					
			
				
						Craft Cross CMS
						
					
			
				
						Crystallize
						
					
			
				
						DatoCMS
						
					
			
				
						Decap CMS
						
					
			
				
						Directus
						
					
			
				
						Drupal
						
					
			
				
						Flotiq
						
					
			
				
						Front Matter CMS
						
					
			
				
						Ghost
						
					
			
				
						GitCMS
						
					
			
				
						Hashnode
						
					
			
				
						Hygraph
						
					
			
				
						JekyllPad
						
					
			
				
						Keystatic
						
					
			
				
						KeystoneJS
						
					
			
				
						Kontent.ai
						
					
			
				
						microCMS
						
					
			
				
						Optimizely CMS
						
					
			
				
						Payload CMS
						
					
			
				
						Prepr CMS
						
					
			
				
						Prismic
						
					
			
				
						Sanity
						
					
			
				
						Sitecore XM
						
					
			
				
						Sitepins
						
					
			
				
						Spinal
						
					
			
				
						Statamic
						
					
			
				
						Storyblok
						
					
			
				
						Strapi
						
					
			
				
						StudioCMS
						
					
			
				
						Tina CMS
						
					
			
				
						Umbraco
						
					
			
				
						Wordpress
- CMS overview
- ApostropheCMS
- Builder.io
- ButterCMS
- Caisy
- CloudCannon
- Contentful
- Cosmic
- Craft CMS
- Craft Cross CMS
- Crystallize
- DatoCMS
- Decap CMS
- Directus
- Drupal
- Flotiq
- Front Matter CMS
- Ghost
- GitCMS
- Hashnode
- Hygraph
- JekyllPad
- Keystatic
- KeystoneJS
- Kontent.ai
- microCMS
- Optimizely CMS
- Payload CMS
- Prepr CMS
- Prismic
- Sanity
- Sitecore XM
- Sitepins
- Spinal
- Statamic
- Storyblok
- Strapi
- StudioCMS
- Tina CMS
- Umbraco
- Wordpress
- Backend services
								
							
							
	



						
						
	
				
						Backend services overview
						
					
			
				
						Appwrite
						
					
			
				
						Firebase
						
					
			
				
						Neon
						
					
			
				
						Prisma Postgres
						
					
			
				
						Sentry
						
					
			
				
						Supabase
						
					
			
				
						Turso
						
					
			
				
						Xata
- Backend services overview
- Appwrite
- Firebase
- Neon
- Prisma Postgres
- Sentry
- Supabase
- Turso
- Xata
- Image and video hosting
								
							
							
	



						
						
	
				
						Media hosting overview
						
					
			
				
						Cloudinary
						
					
			
				
						Mux
- Media hosting overview
- Cloudinary
- Mux
- E-commerce
- Authentication
- Testing
## Sponsored by

## Sponsored by

- Overview
- Toolbar app integration setup
				
				
	
				
					addDevToolbarApp()
				
				
			
				
					id
				
				
			
				
					name
				
				
			
				
					icon
				
				
			
				
					entrypoint
- addDevToolbarApp()
- id
- name
- icon
- entrypoint
- Structure of a Dev Toolbar App
				
				
	
				
					defineToolbarApp()
				
				
			
				
					init()
				
				
			
				
					beforeTogglingOff()
- defineToolbarApp()
- init()
- beforeTogglingOff()
- Client-side Events
				
				
	
				
					onToggled()
				
				
			
				
					onToolbarPlacementUpdated()
				
				
			
				
					toggleState()
				
				
			
				
					toggleNotification()
- onToggled()
- onToolbarPlacementUpdated()
- toggleState()
- toggleNotification()
- Client-Server Communication
				
				
	
				
					On the client
				
				
			
				
					On the server
- On the client
- On the server
- Component Library
				
				
	
				
					astro-dev-toolbar-window
				
				
			
				
					astro-dev-toolbar-button
				
				
			
				
					astro-dev-toolbar-badge
				
				
			
				
					astro-dev-toolbar-card
				
				
			
				
					astro-dev-toolbar-toggle
				
				
			
				
					astro-dev-toolbar-radio-checkbox
				
				
			
				
					astro-dev-toolbar-highlight
				
				
			
				
					astro-dev-toolbar-tooltip
				
				
			
				
					astro-dev-toolbar-icon
				
				
			
				
					astro-dev-toolbar-select
- astro-dev-toolbar-window
- astro-dev-toolbar-button
- astro-dev-toolbar-badge
- astro-dev-toolbar-card
- astro-dev-toolbar-toggle
- astro-dev-toolbar-radio-checkbox
- astro-dev-toolbar-highlight
- astro-dev-toolbar-tooltip
- astro-dev-toolbar-icon
- astro-dev-toolbar-select
## On this page

- Overview
- Toolbar app integration setup
addDevToolbarApp()
id
name
icon
entrypoint
- addDevToolbarApp()
- id
- name
- icon
- entrypoint
- Structure of a Dev Toolbar App
defineToolbarApp()
init()
beforeTogglingOff()
- defineToolbarApp()
- init()
- beforeTogglingOff()
- Client-side Events
onToggled()
onToolbarPlacementUpdated()
toggleState()
toggleNotification()
- onToggled()
- onToolbarPlacementUpdated()
- toggleState()
- toggleNotification()
- Client-Server Communication
On the client
On the server
- On the client
- On the server
- Component Library
astro-dev-toolbar-window
astro-dev-toolbar-button
astro-dev-toolbar-badge
astro-dev-toolbar-card
astro-dev-toolbar-toggle
astro-dev-toolbar-radio-checkbox
astro-dev-toolbar-highlight
astro-dev-toolbar-tooltip
astro-dev-toolbar-icon
astro-dev-toolbar-select
- astro-dev-toolbar-window
- astro-dev-toolbar-button
- astro-dev-toolbar-badge
- astro-dev-toolbar-card
- astro-dev-toolbar-toggle
- astro-dev-toolbar-radio-checkbox
- astro-dev-toolbar-highlight
- astro-dev-toolbar-tooltip
- astro-dev-toolbar-icon
- astro-dev-toolbar-select
## Learn Astro with Coding in Public

150+ video lessons
•
Astro v5 ready

# Dev Toolbar App API

The Astro Dev Toolbar App API allows you to create Astro Integrations that add apps to the Astro Dev Toolbar. This allows you to add new features and integrations with third-party services.

## Toolbar app integration setup

Integrations can add apps to the dev toolbar in the astro:config:setup hook.

```
astro:config:setup
```

```
/**
 * @type {() => import('astro').AstroIntegration}
 */
export default () => ({
  name: "my-integration",
  hooks: {
    "astro:config:setup": ({ addDevToolbarApp }) => {
      addDevToolbarApp({
        id: "my-app",
        name: "My App",
        icon: "<svg>...</svg>",
        entrypoint: "./my-app.js",
      });
    },
  },
});
```

```
/**
 * @type {() => import('astro').AstroIntegration}
 */
export default () => ({
  name: "my-integration",
  hooks: {
    "astro:config:setup": ({ addDevToolbarApp }) => {
      addDevToolbarApp({
        id: "my-app",
        name: "My App",
        icon: "<svg>...</svg>",
        entrypoint: "./my-app.js",
      });
    },
  },
});
```

### addDevToolbarApp()

```
addDevToolbarApp()
```

Type: (entrypoint: DevToolbarAppEntry) => void

```
(entrypoint: DevToolbarAppEntry) => void
```

```
astro@4.0.0
```

A function available to the astro:config:setup hook that adds dev toolbar apps. It takes an object with the following required properties to define the toolbar app: id, name, and entrypoint. Optionally, you can also define an icon for your app.

```
astro:config:setup
```

```
id
```

```
name
```

```
entrypoint
```

```
icon
```

### id

```
id
```

Type: string

```
string
```

A unique identifier for the app. This will be used to uniquely identify the app in hooks and events.

```
{
  id: 'my-app',
  // ...
}
```

```
{
  id: 'my-app',
  // ...
}
```

### name

```
name
```

Type: string

```
string
```

The name of the app. This will be shown to users whenever the app needs to be referenced using a human-readable name.

```
{
  // ...
  name: 'My App',
  // ...
}
```

```
{
  // ...
  name: 'My App',
  // ...
}
```

### icon

```
icon
```

Type: Icon | string
Default: "?"

```
Icon | string
```

```
"?"
```

The icon used to display the app in the toolbar. This can either be an icon from the icon list, or a string containing the SVG markup of the icon.

```
{
  // ...
  icon: '<svg>...</svg>', // or, e.g. 'astro:logo'
  // ...
}
```

```
{
  // ...
  icon: '<svg>...</svg>', // or, e.g. 'astro:logo'
  // ...
}
```

### entrypoint

```
entrypoint
```

Type: string | URL

```
string | URL
```

The path to the file that exports the dev toolbar app.

```
{
  // ...
  entrypoint: './my-app.js',
}
```

```
{
  // ...
  entrypoint: './my-app.js',
}
```

Added in: astro@5.0.0

```
astro@5.0.0
```

The function also accepts a URL as entrypoint:

```
URL
```

```
entrypoint
```

```
/**
 * @type {() => import('astro').AstroIntegration}
 */
export default () => ({
  name: "my-integration",
  hooks: {
    "astro:config:setup": ({ addDevToolbarApp }) => {
      addDevToolbarApp({
        id: "my-app",
        name: "My App",
        icon: "<svg>...</svg>",
        entrypoint: new URL("./my-app.js", import.meta.url),
      });
    },
  },
});
```

```
/**
 * @type {() => import('astro').AstroIntegration}
 */
export default () => ({
  name: "my-integration",
  hooks: {
    "astro:config:setup": ({ addDevToolbarApp }) => {
      addDevToolbarApp({
        id: "my-app",
        name: "My App",
        icon: "<svg>...</svg>",
        entrypoint: new URL("./my-app.js", import.meta.url),
      });
    },
  },
});
```

## Structure of a Dev Toolbar App

A Dev Toolbar App is a .js or .ts file that default exports an object using the defineToolbarApp() function available from the astro/toolbar module.

```
.js
```

```
.ts
```

```
defineToolbarApp()
```

```
astro/toolbar
```

```
import { defineToolbarApp } from "astro/toolbar";


export default defineToolbarApp({
  init(canvas) {
    const text = document.createTextNode('Hello World!');
    canvas.appendChild(text);
  },
  beforeTogglingOff() {
    const confirmation = window.confirm('Really exit?');
    return confirmation;
  }
});
```

```
import { defineToolbarApp } from "astro/toolbar";


export default defineToolbarApp({
  init(canvas) {
    const text = document.createTextNode('Hello World!');
    canvas.appendChild(text);
  },
  beforeTogglingOff() {
    const confirmation = window.confirm('Really exit?');
    return confirmation;
  }
});
```

### defineToolbarApp()

```
defineToolbarApp()
```

Type: (app: DevToolbarApp) => DevToolbarApp

```
(app: DevToolbarApp) => DevToolbarApp
```

```
astro@4.7.0
```

A function that defines the logic of your toolbar app when it is loaded and toggled off.

This function takes an object with an init() function that will be called when the dev toolbar app is loaded. It can also take a beforeTogglingOff() function that will run when the toolbar app is clicked to toggle off its active status.

```
init()
```

```
beforeTogglingOff()
```

### init()

```
init()
```

Type: (canvas: ShadowRoot, app: ToolbarAppEventTarget, server: ToolbarServerHelpers) => void | Promise<void>

```
(canvas: ShadowRoot, app: ToolbarAppEventTarget, server: ToolbarServerHelpers) => void | Promise<void>
```

Although not required, most apps will use this function to define the core behavior of the app. This function will be called only once when the app is loaded, which will either be when the browser is idle or when the user clicks on the app in the UI, depending on which one comes first.

The function receives three arguments to define your app logic: canvas (to render elements to the screen), app (to send and receive client-side events from the dev toolbar), and server (to communicate with the server).

```
canvas
```

```
app
```

```
server
```

#### canvas

```
canvas
```

Type: ShadowRoot

```
ShadowRoot
```

A standard ShadowRoot that the app can use to render its UI. Elements can be created and added to the ShadowRoot using the standard DOM APIs.

Every app receives its own dedicated ShadowRoot for rendering its UI. Additionally, the parent element is positioned using position: absolute; so the app UI will not affect the layout of an Astro page.

```
position: absolute;
```

```
export default defineToolbarApp({
  init(canvas) {
    canvas.appendChild(document.createTextNode('Hello World!'))
  }
});
```

```
export default defineToolbarApp({
  init(canvas) {
    canvas.appendChild(document.createTextNode('Hello World!'))
  }
});
```

#### app

```
app
```

Type: ToolbarAppEventTarget

```
ToolbarAppEventTarget
```

```
astro@4.7.0
```

A standard EventTarget with a few additional helpers for client-side events that can be used to send and receive events from the Dev toolbar.

```
EventTarget
```

```
export default defineToolbarApp({
  init(canvas, app) {
    app.onToggled(({ state }) => {
      const text = document.createTextNode(
        `The app is now ${state ? "enabled" : "disabled"}!`,
      );
      canvas.appendChild(text);
    });
  },
});
```

```
export default defineToolbarApp({
  init(canvas, app) {
    app.onToggled(({ state }) => {
      const text = document.createTextNode(
        `The app is now ${state ? "enabled" : "disabled"}!`,
      );
      canvas.appendChild(text);
    });
  },
});
```

#### server

```
server
```

Type: ToolbarServerHelpers

```
ToolbarServerHelpers
```

```
astro@4.7.0
```

An object that can be used to communicate with the server.

```
export default defineToolbarApp({
  init(canvas, app, server) {
    server.send('my-message', { message: 'Hello!' });


    server.on('server-message', (data) => {
      console.log(data.message);
    });
  },
});
```

```
export default defineToolbarApp({
  init(canvas, app, server) {
    server.send('my-message', { message: 'Hello!' });


    server.on('server-message', (data) => {
      console.log(data.message);
    });
  },
});
```

### beforeTogglingOff()

```
beforeTogglingOff()
```

Type: (canvas: ShadowRoot) => boolean | Promise<boolean>

```
(canvas: ShadowRoot) => boolean | Promise<boolean>
```

```
astro@4.7.0
```

This optional function will be called when the user clicks on the app icon in the UI to toggle off the app. This function can be used, for example, to perform cleanup operations, or to ask the user for confirmation before toggling off the app.

If a falsy value is returned, the toggling off will be cancelled and the app will stay enabled.

```
export default defineToolbarApp({
  // ...
  beforeTogglingOff() {
    const confirmation = window.confirm('Are you sure you want to disable this app?');
    return confirmation;
  }
});
```

```
export default defineToolbarApp({
  // ...
  beforeTogglingOff() {
    const confirmation = window.confirm('Are you sure you want to disable this app?');
    return confirmation;
  }
});
```

#### canvas

Type: ShadowRoot

```
ShadowRoot
```

The ShadowRoot of the app, can be used to render any UI needed before closing. Same as the canvas argument of the init function.

```
canvas
```

```
init
```

## Client-side Events

In addition to the standard methods of an EventTarget (addEventListener, dispatchEvent, removeEventListeneretc.), the app object also has the following methods:

```
EventTarget
```

```
addEventListener
```

```
dispatchEvent
```

```
removeEventListener
```

```
app
```

### onToggled()

```
onToggled()
```

Type: (callback: (options: {state: boolean})) => void

```
(callback: (options: {state: boolean})) => void
```

```
astro@4.7.0
```

Registers a callback to be called when the user clicks on the app icon in the UI to toggle the app on or off.

```
app.onToggled((options) => {
  console.log(`The app is now ${options.state ? 'enabled' : 'disabled'}!`);
});
```

```
app.onToggled((options) => {
  console.log(`The app is now ${options.state ? 'enabled' : 'disabled'}!`);
});
```

### onToolbarPlacementUpdated()

```
onToolbarPlacementUpdated()
```

Type: (callback: (options: {placement: 'bottom-left' | 'bottom-center' | 'bottom-right'})) => void

```
(callback: (options: {placement: 'bottom-left' | 'bottom-center' | 'bottom-right'})) => void
```

```
astro@4.7.0
```

This event is fired when the user changes the placement of the Dev Toolbar. This can, for example, be used to reposition the app’s UI when the toolbar is moved.

```
app.onToolbarPlacementUpdated((options) => {
  console.log(`The toolbar is now placed at ${options.placement}!`);
});
```

```
app.onToolbarPlacementUpdated((options) => {
  console.log(`The toolbar is now placed at ${options.placement}!`);
});
```

### toggleState()

```
toggleState()
```

Type: (options: {state: boolean}) => void

```
(options: {state: boolean}) => void
```

```
astro@4.7.0
```

Changes the state of the app. This can be used to enable or disable the app programmatically, for example, when the user clicks on a button in the app’s UI.

```
app.toggleState({ state: false });
```

```
app.toggleState({ state: false });
```

### toggleNotification()

```
toggleNotification()
```

Type: (options: {state?: boolean, level?: 'error' | 'warning' | 'info'}) => void

```
(options: {state?: boolean, level?: 'error' | 'warning' | 'info'}) => void
```

```
astro@4.7.0
```

Toggles a notification on the app icon. This can be used to inform the user that the app requires attention, or remove the current notification.

```
app.toggleNotification({
  state: true,
  level: 'warning',
});
```

```
app.toggleNotification({
  state: true,
  level: 'warning',
});
```

#### state

```
state
```

Type: boolean

```
boolean
```

Indicates whether or not the app has a notification for the user. When true, the app icon will be highlighted. Conversely, when false, the highlight will be removed. If this property is not specified, true will be assumed.

```
true
```

```
false
```

```
true
```

#### level

```
level
```

Type: 'error' | 'warning' | 'info'
Default: 'error'

```
'error' | 'warning' | 'info'
```

```
'error'
```

Indicates the level of the notification. This will be used to determine the color and shape (dark pink circle, gold triangle, or blue square) of the highlight on the app icon. If this property is not specified, 'error' will be assumed.

```
'error'
```

## Client-Server Communication

Using Vite’s methods for client-server communication, Dev Toolbar Apps and the server can communicate with each other. In order to facilitate sending and receiving custom messages, helper methods are provided for use both in your toolbar app (on the client) and in your integration (on the server).

### On the client

In your app, use the server object on the init() hook to send and receive messages to and from the server.

```
server
```

```
init()
```

```
export default defineToolbarApp({
  init(canvas, app, server) {
    server.send('my-message', { message: 'Hello!' });


    server.on('server-message', (data) => {
      console.log(data.message);
    });
  },
});
```

```
export default defineToolbarApp({
  init(canvas, app, server) {
    server.send('my-message', { message: 'Hello!' });


    server.on('server-message', (data) => {
      console.log(data.message);
    });
  },
});
```

#### send()

```
send()
```

Type: <T>(event: string, payload: T) => void

```
<T>(event: string, payload: T) => void
```

```
astro@4.7.0
```

Sends data to the server from logic defined in your toolbar app.

```
init(canvas, app, server) {
  server.send('my-app:my-message', { message: 'Hello!' });
}
```

```
init(canvas, app, server) {
  server.send('my-app:my-message', { message: 'Hello!' });
}
```

When sending messages from the client to the server, it is good practice to prefix the event name with the app ID or other namespaces to avoid conflicts with other apps or other integrations that may be listening for messages.

#### on()

```
on()
```

Type: <T>(event: string, callback: (data: T) => void) => void

```
<T>(event: string, callback: (data: T) => void) => void
```

```
astro@4.7.0
```

Registers a callback to be called when the server sends a message with the specified event.

```
init(canvas, app, server) {
  server.on('server-message', (data) => {
    console.log(data.message);
  });
}
```

```
init(canvas, app, server) {
  server.on('server-message', (data) => {
    console.log(data.message);
  });
}
```

### On the server

In an integration, such as the integration that adds your toolbar app, use the astro:server:setup hook to access the toolbar object to send and receive messages to and from your apps.

```
astro:server:setup
```

```
toolbar
```

```
export default () => ({
  name: "my-integration",
  hooks: {
    "astro:config:setup": ({ addDevToolbarApp }) => {},
    "astro:server:setup": ({ toolbar }) => {},
  },
});
```

```
export default () => ({
  name: "my-integration",
  hooks: {
    "astro:config:setup": ({ addDevToolbarApp }) => {},
    "astro:server:setup": ({ toolbar }) => {},
  },
});
```

#### send()

```
send()
```

Type: <T>(event: string, payload: T) => void

```
<T>(event: string, payload: T) => void
```

```
astro@4.7.0
```

Sends data to the client.

```
'astro:server:setup': ({ toolbar }) => {
  toolbar.send('server-message', { message: 'Hello!' });
},
```

```
'astro:server:setup': ({ toolbar }) => {
  toolbar.send('server-message', { message: 'Hello!' });
},
```

#### on()

```
on()
```

Type: <T>(event: string, callback: (data: T) => void) => void

```
<T>(event: string, callback: (data: T) => void) => void
```

```
astro@4.7.0
```

Registers a callback to be called when the client sends a message with the specified event.

```
'astro:server:setup': ({ toolbar }) => {
  toolbar.on('my-app:my-message', (data) => {
    console.log(data.message);
  });
},
```

```
'astro:server:setup': ({ toolbar }) => {
  toolbar.on('my-app:my-message', (data) => {
    console.log(data.message);
  });
},
```

#### onAppInitialized()

```
onAppInitialized()
```

Type: (appId: string, callback: () => void) => void

```
(appId: string, callback: () => void) => void
```

```
astro@4.7.0
```

Registers a callback to be called when the app is initialized.

```
'astro:server:setup': ({ toolbar }) => {
  toolbar.onAppInitialized('my-app', () => {
    console.log('The app is now initialized!');
  });
},
```

```
'astro:server:setup': ({ toolbar }) => {
  toolbar.onAppInitialized('my-app', () => {
    console.log('The app is now initialized!');
  });
},
```

Note

The built-in connection event from Vite fires before Dev Toolbar apps are initialized and therefore cannot be used directly by apps. Use the onAppInitialized method to ensure that the app is fully initialized before sending messages to it.

```
connection
```

```
onAppInitialized
```

#### onAppToggled()

```
onAppToggled()
```

Type: (appId: string, callback: (options: {state: boolean}) => void) => void

```
(appId: string, callback: (options: {state: boolean}) => void) => void
```

```
astro@4.7.0
```

Registers a callback to be called when the user clicks on the app icon in the UI to toggle the app on or off.

```
'astro:server:setup': ({ toolbar }) => {
  toolbar.onAppToggled('my-app', ({ state }) => {
    console.log(`The app is now ${state ? 'enabled' : 'disabled'}!`);
  });
},
```

```
'astro:server:setup': ({ toolbar }) => {
  toolbar.onAppToggled('my-app', ({ state }) => {
    console.log(`The app is now ${state ? 'enabled' : 'disabled'}!`);
  });
},
```

## Component Library

The Dev Toolbar includes a set of web components that can be used to build apps with a consistent look and feel.

### astro-dev-toolbar-window

```
astro-dev-toolbar-window
```

Shows a window.

The slot of the component will be used as the content of the window.

```
<astro-dev-toolbar-window>
  <p>My content</p>
</astro-dev-toolbar-window>
```

```
<astro-dev-toolbar-window>
  <p>My content</p>
</astro-dev-toolbar-window>
```

When building a window using JavaScript, slotted content must go inside the light DOM of the component.

```
const myWindow = document.createElement('astro-dev-toolbar-window');
const myContent = document.createElement('p');
myContent.textContent = 'My content';


// use appendChild directly on `window`, not `myWindow.shadowRoot`
myWindow.appendChild(myContent);
```

```
const myWindow = document.createElement('astro-dev-toolbar-window');
const myContent = document.createElement('p');
myContent.textContent = 'My content';


// use appendChild directly on `window`, not `myWindow.shadowRoot`
myWindow.appendChild(myContent);
```

### astro-dev-toolbar-button

```
astro-dev-toolbar-button
```

Shows a button.

The slot of the component will be used as the content of the button.

```
const myButton = document.createElement('astro-dev-toolbar-button');
myButton.textContent = 'Click me!';
myButton.buttonStyle = "purple";
myButton.size = "medium";


myButton.addEventListener('click', () => {
  console.log('Clicked!');
});
```

```
const myButton = document.createElement('astro-dev-toolbar-button');
myButton.textContent = 'Click me!';
myButton.buttonStyle = "purple";
myButton.size = "medium";


myButton.addEventListener('click', () => {
  console.log('Clicked!');
});
```

#### size

```
size
```

Type: "small" | "medium" | "large"
Default: "small"

```
"small" | "medium" | "large"
```

```
"small"
```

The size of the button.

#### button-style

```
button-style
```

Type: "ghost" | "outline" | "purple" | "gray" | "red" | "green" | "yellow" | "blue"
Default: "purple"

```
"ghost" | "outline" | "purple" | "gray" | "red" | "green" | "yellow" | "blue"
```

```
"purple"
```

The style of the button. When using ghost, the button itself is invisible and only the content of the button will be shown.

```
ghost
```

In JavaScript, set this property using the buttonStyle property to avoid conflict with the native style property.

```
buttonStyle
```

```
style
```

#### button-border-radius

```
button-border-radius
```

Type: "normal" | "rounded"
Default: "normal"

```
"normal" | "rounded"
```

```
"normal"
```

```
astro@4.8.0
```

The border radius of the button. When using rounded, the button will have rounded corners and uniform padding on all sides.

```
rounded
```

In JavaScript, set this property using the buttonBorderRadius property.

```
buttonBorderRadius
```

### astro-dev-toolbar-badge

```
astro-dev-toolbar-badge
```

Shows a badge.

The slot of the component will be used as the content of the badge.

```
<astro-dev-toolbar-badge>My badge</astro-dev-toolbar-badge>
```

```
<astro-dev-toolbar-badge>My badge</astro-dev-toolbar-badge>
```

#### size

```
size
```

Type: "small" | "large"
Default: "small"

```
"small" | "large"
```

```
"small"
```

The size of the badge.

#### badge-style

```
badge-style
```

Type: "purple" | "gray" | "red" | "green" | "yellow" | "blue"
Default: "purple"

```
"purple" | "gray" | "red" | "green" | "yellow" | "blue"
```

```
"purple"
```

The style (color) of the badge.

In JavaScript, set this property using the badgeStyle property to avoid conflict with the native style property.

```
badgeStyle
```

```
style
```

### astro-dev-toolbar-card

```
astro-dev-toolbar-card
```

Shows a card. Specify an optional link attribute to make the card act like an <a> element.

```
link
```

```
<a>
```

When making a card using JavaScript, a clickAction property can be specified to make the card act like a <button> element.

```
clickAction
```

```
<button>
```

The slot of the component will be used as the content of the card.

```
<astro-dev-toolbar-card icon="astro:logo" link="https://github.com/withastro/astro/issues/new/choose">Report an issue</astro-dev-toolbar-card>
```

```
<astro-dev-toolbar-card icon="astro:logo" link="https://github.com/withastro/astro/issues/new/choose">Report an issue</astro-dev-toolbar-card>
```

#### card-style

```
card-style
```

Type: "purple" | "gray" | "red" | "green" | "yellow" | "blue"
Default: "purple"

```
"purple" | "gray" | "red" | "green" | "yellow" | "blue"
```

```
"purple"
```

The style of the card. The color is only applied to the border of the card on hover.

In JavaScript, set this property using the cardStyle.

```
cardStyle
```

### astro-dev-toolbar-toggle

```
astro-dev-toolbar-toggle
```

Shows a toggle element, acting as a checkbox. This element internally is a simple wrapper around a native <input type="checkbox"> element. The checkbox element can be accessed using the input property.

```
<input type="checkbox">
```

```
input
```

```
const toggle = document.createElement('astro-dev-toolbar-toggle');


toggle.input.addEventListener('change', (evt) => {
  console.log(`The toggle is now ${evt.currentTarget.checked ? 'enabled' : 'disabled'}!`);
});
```

```
const toggle = document.createElement('astro-dev-toolbar-toggle');


toggle.input.addEventListener('change', (evt) => {
  console.log(`The toggle is now ${evt.currentTarget.checked ? 'enabled' : 'disabled'}!`);
});
```

#### toggle-style

```
toggle-style
```

Type: "purple" | "gray" | "red" | "green" | "yellow" | "blue"
Default: "gray"

```
"purple" | "gray" | "red" | "green" | "yellow" | "blue"
```

```
"gray"
```

The style of the toggle.

In JavaScript, set this property using the toggleStyle property.

```
toggleStyle
```

### astro-dev-toolbar-radio-checkbox

```
astro-dev-toolbar-radio-checkbox
```

Added in: astro@4.8.0

```
astro@4.8.0
```

Shows a radio checkbox. Similar to the astro-dev-toolbar-toggle component, this element is a simple wrapper around a native <input type="radio"> element. The radio element can be accessed using the input property.

```
astro-dev-toolbar-toggle
```

```
<input type="radio">
```

```
input
```

```
const radio = document.createElement('astro-dev-toolbar-radio-checkbox');


radio.input.addEventListener('change', (evt) => {
  console.log(`The radio is now ${evt.currentTarget.checked ? 'enabled' : 'disabled'}!`);
});
```

```
const radio = document.createElement('astro-dev-toolbar-radio-checkbox');


radio.input.addEventListener('change', (evt) => {
  console.log(`The radio is now ${evt.currentTarget.checked ? 'enabled' : 'disabled'}!`);
});
```

#### radio-style

```
radio-style
```

Type: "purple" | "gray" | "red" | "green" | "yellow" | "blue"
Default: "purple"

```
"purple" | "gray" | "red" | "green" | "yellow" | "blue"
```

```
"purple"
```

The style of the radio.

In JavaScript, set this property using the radioStyle property.

```
radioStyle
```

### astro-dev-toolbar-highlight

```
astro-dev-toolbar-highlight
```

Can be used to highlight an element on the page. In most cases, you’ll want to position and resize this element using the top, left, width and height CSS properties to match the element you want to highlight.

```
top
```

```
left
```

```
width
```

```
height
```

```
<!-- Highlight the entire page -->
<astro-dev-toolbar-highlight style="top: 0; left: 0; width: 100%; height: 100%;"></astro-dev-toolbar-highlight>
```

```
<!-- Highlight the entire page -->
<astro-dev-toolbar-highlight style="top: 0; left: 0; width: 100%; height: 100%;"></astro-dev-toolbar-highlight>
```

```
const elementToHighlight = document.querySelector('h1');
const rect = elementToHighlight.getBoundingClientRect();


const highlight = document.createElement('astro-dev-toolbar-highlight');


highlight.style.top = `${Math.max(rect.top + window.scrollY - 10, 0)}px`;
highlight.style.left = `${Math.max(rect.left + window.scrollX - 10, 0)}px`;
highlight.style.width = `${rect.width + 15}px`;
highlight.style.height = `${rect.height + 15}px`;
highlight.icon = 'astro:logo';
```

```
const elementToHighlight = document.querySelector('h1');
const rect = elementToHighlight.getBoundingClientRect();


const highlight = document.createElement('astro-dev-toolbar-highlight');


highlight.style.top = `${Math.max(rect.top + window.scrollY - 10, 0)}px`;
highlight.style.left = `${Math.max(rect.left + window.scrollX - 10, 0)}px`;
highlight.style.width = `${rect.width + 15}px`;
highlight.style.height = `${rect.height + 15}px`;
highlight.icon = 'astro:logo';
```

#### highlight-style

```
highlight-style
```

Type: "purple" | "gray" | "red" | "green" | "yellow" | "blue"
Default: "purple"

```
"purple" | "gray" | "red" | "green" | "yellow" | "blue"
```

```
"purple"
```

The style of the highlight.

#### icon

```
icon
```

An icon to show in the top right corner of the highlight.

### astro-dev-toolbar-tooltip

```
astro-dev-toolbar-tooltip
```

Shows a tooltip with different sections. This component is set to display: none; by default and can be made visible using a data-show="true" attribute.

```
display: none;
```

```
data-show="true"
```

Sections are defined using the sections property. This property is an array of objects with the following shape:

```
sections
```

```
{
  title?: string; // Title of the section
  inlineTitle?: string; // Title of the section, shown inline next to the title
  icon?: Icon; // Icon of the section
  content?: string; // Content of the section
  clickAction?: () => void | Promise<void>; // Action to perform when clicking on the section
  clickDescription?: string; // Description of the action to perform when clicking on the section
}
```

```
{
  title?: string; // Title of the section
  inlineTitle?: string; // Title of the section, shown inline next to the title
  icon?: Icon; // Icon of the section
  content?: string; // Content of the section
  clickAction?: () => void | Promise<void>; // Action to perform when clicking on the section
  clickDescription?: string; // Description of the action to perform when clicking on the section
}
```

```
const tooltip = document.createElement('astro-dev-toolbar-tooltip');


tooltip.sections = [{
  title: 'My section',
  icon: 'astro:logo',
  content: 'My content',
  clickAction: () => {
    console.log('Clicked!')
  },
  clickDescription: 'Click me!'
}]
```

```
const tooltip = document.createElement('astro-dev-toolbar-tooltip');


tooltip.sections = [{
  title: 'My section',
  icon: 'astro:logo',
  content: 'My content',
  clickAction: () => {
    console.log('Clicked!')
  },
  clickDescription: 'Click me!'
}]
```

This component is often combined with the astro-dev-toolbar-highlight component to show a tooltip when hovering a highlighted element:

```
astro-dev-toolbar-highlight
```

```
const highlight = document.createElement('astro-dev-toolbar-highlight');


// Position the highlight...


const tooltip = document.createElement('astro-dev-toolbar-tooltip');


// Add sections to the tooltip...


highlight.addEventListener('mouseover', () => {
  tooltip.dataset.show = 'true';
});


highlight.addEventListener('mouseout', () => {
  tooltip.dataset.show = 'false';
});
```

```
const highlight = document.createElement('astro-dev-toolbar-highlight');


// Position the highlight...


const tooltip = document.createElement('astro-dev-toolbar-tooltip');


// Add sections to the tooltip...


highlight.addEventListener('mouseover', () => {
  tooltip.dataset.show = 'true';
});


highlight.addEventListener('mouseout', () => {
  tooltip.dataset.show = 'false';
});
```

### astro-dev-toolbar-icon

```
astro-dev-toolbar-icon
```

Shows an icon. An icon from the icon list can be specified using the icon attribute, or the SVG markup of an icon can be passed as a slot.

```
icon
```

```
<astro-dev-toolbar-icon icon="astro:logo" />
```

```
<astro-dev-toolbar-icon icon="astro:logo" />
```

```
<astro-dev-toolbar-icon>
  <svg>...</svg>
</astro-dev-toolbar-icon>
```

```
<astro-dev-toolbar-icon>
  <svg>...</svg>
</astro-dev-toolbar-icon>
```

### astro-dev-toolbar-select

```
astro-dev-toolbar-select
```

Added in: astro@4.6.0

```
astro@4.6.0
```

Shows a select element. Similar to the astro-dev-toolbar-toggle component, this element is a simple wrapper around a native <select> element. Use the element property to have access to the select element.

```
astro-dev-toolbar-toggle
```

```
<select>
```

```
element
```

```
const mySelect = document.createElement("astro-dev-toolbar-select");
const options = [
  { label: "First option", value: "first" },
  { label: "Second option", value: "second", isDefault: true },
];
const myOptions = options.map((option) => {
  const optionEl = document.createElement("option");
  optionEl.textContent = option.label;
  optionEl.setAttribute("value", option.value);
  optionEl.selected = option.isDefault || false;
  return optionEl;
});


mySelect.selectStyle = "green";
mySelect.append(...myOptions);


mySelect.element.addEventListener("change", (evt) => {
  if (evt.currentTarget instanceof HTMLSelectElement) {
    console.log(`The select value is now ${evt.currentTarget.value}!`);
  }
});
```

```
const mySelect = document.createElement("astro-dev-toolbar-select");
const options = [
  { label: "First option", value: "first" },
  { label: "Second option", value: "second", isDefault: true },
];
const myOptions = options.map((option) => {
  const optionEl = document.createElement("option");
  optionEl.textContent = option.label;
  optionEl.setAttribute("value", option.value);
  optionEl.selected = option.isDefault || false;
  return optionEl;
});


mySelect.selectStyle = "green";
mySelect.append(...myOptions);


mySelect.element.addEventListener("change", (evt) => {
  if (evt.currentTarget instanceof HTMLSelectElement) {
    console.log(`The select value is now ${evt.currentTarget.value}!`);
  }
});
```

#### select-style

```
select-style
```

Type: "purple" | "gray" | "red" | "green" | "yellow" | "blue"
Default: "gray"

```
"purple" | "gray" | "red" | "green" | "yellow" | "blue"
```

```
"gray"
```

The style of the select.

In JavaScript, set this property using the selectStyle property.

```
selectStyle
```

#### Icons

Currently, the following icons are available and can be used in any component that accepts an icon:

- astro:logo
```
astro:logo
```

- warning
```
warning
```

- arrow-down
```
arrow-down
```

- bug
```
bug
```

- check-circle
```
check-circle
```

- gear
```
gear
```

- lightbulb
```
lightbulb
```

- file-search
```
file-search
```

- star
```
star
```

- checkmark
```
checkmark
```

- dots-three
```
dots-three
```

- copy
```
copy
```

- compress
```
compress
```

- grid
```
grid
```

- puzzle
```
puzzle
```

- approveUser
```
approveUser
```

- checkCircle
```
checkCircle
```

- resizeImage
```
resizeImage
```

- searchFile
```
searchFile
```

- image
```
image
```

- robot
```
robot
```

- sitemap
```
sitemap
```

- gauge
```
gauge
```

- person-arms-spread
```
person-arms-spread
```

- arrow-left
```
arrow-left
```

- houston-detective
```
houston-detective
```

All of the above icons have fill="currentColor" set by default and will inherit their color from the parent element.

```
fill="currentColor"
```

## Learn Astro with James Q Quick

Build your first site with 35 interactive Scrimba lessons

